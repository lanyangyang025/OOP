<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_cDQ_8LFyEeeCH50Lr9AhYw" name="HW06_visitor">
    <eAnnotations xmi:id="_cSqt4LFyEeeCH50Lr9AhYw" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_cSrU8LFyEeeCH50Lr9AhYw" source="codegen">
        <details xmi:id="_cSrU8bFyEeeCH50Lr9AhYw" key="codegenDirectory" value="/HW06/src"/>
        <details xmi:id="_c4QuQLFyEeeCH50Lr9AhYw" key="AssociatedSourceCode" value="/HW06/src/controller/MusicPlayerController.java;2967067196/1;/HW06/src/model/IModel2ViewAdapter.java;4041129402/1;/HW06/src/model/MusicPlayerModel.java;1669259375/1;/HW06/src/provided/abcParser/ABCParser.java;3897219377/1;/HW06/src/provided/music/APhraseVisitor.java;2456285939/1;/HW06/src/provided/music/Chord.java;35896074/1;/HW06/src/provided/music/DecoratorSeqList.java;227833273/1;/HW06/src/provided/music/FineToggleDecoratorSeqList.java;3225370767/1;/HW06/src/provided/music/Header.java;2532731710/1;/HW06/src/provided/music/INote.java;3583161323/1;/HW06/src/provided/music/IPhrase.java;366605851/1;/HW06/src/provided/music/IPhraseVisitor.java;3703781995/1;/HW06/src/provided/music/IPhraseVisitorCmd.java;2574507730/1;/HW06/src/provided/music/ISeqList.java;2168510769/1;/HW06/src/provided/music/MTSeqList.java;2810010473/1;/HW06/src/provided/music/NESeqList.java;243105234/1;/HW06/src/provided/music/Note.java;3187409944/1;/HW06/src/provided/music/NoteCollection.java;1016744665/1;/HW06/src/provided/music/ToggleDecoratorSeqList.java;2539597070/1;/HW06/src/provided/music/Triplet.java;1836535983/1;/HW06/src/provided/music/Tuplet.java;2612016310/1;/HW06/src/provided/music/visitor/playerAlgo.java;3128335926/1;/HW06/src/provided/music/visitor/toStringAlgo.java;901782575/1;/HW06/src/provided/player/ISequencePlayerStatus.java;669092276/1;/HW06/src/provided/player/SequencePlayer.java;3356128105/1;/HW06/src/view/IView2ModelControlAdapter.java;1470504104/1;/HW06/src/provided/token/ATokVisitor.java;76293018/1;/HW06/src/provided/token/ITokVisitor.java;152834022/1;/HW06/src/provided/token/ITokVisitorCmd.java;1454883899/1;/HW06/src/provided/token/ITokenFactory.java;3990063285/1;/HW06/src/provided/token/Token.java;2142793123/1;/HW06/src/provided/token/TokenFactory.java;4005879304/1;/HW06/src/provided/token/tokenizer/ABCTokenizer.java;4148226813/1;/HW06/src/provided/token/tokenizer/IStringTokenizer.java;2393201612/1;/HW06/src/provided/token/tokenizer/ITokenizer.java;2123229769/1;/HW06/src/provided/token/tokenizer/StringTokenizer.java;1601263969/1;/HW06/src/provided/util/ABCInstrument.java;2809014576/1;/HW06/src/provided/util/ABCUtil.java;4259683412/1;/HW06/src/provided/util/KeySignature.java;1152315575/1;/HW06/src/provided/player/SequencePlayer2.java;3992436622/1;/HW06/src/view/MusicPlayerView.java;1174184379/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_cmWe4LFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_cmXF8LFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_cmXtALFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_cmXtAbFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_cmXtArFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_cmXtA7FyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_cmXtBLFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_cmXtBbFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_cmYUELFyEeeCH50Lr9AhYw">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_cmZiMLFyEeeCH50Lr9AhYw" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_cmZiMbFyEeeCH50Lr9AhYw" name="awt">
        <packagedElement xmi:type="uml:Package" xmi:id="_cnJwILFyEeeCH50Lr9AhYw" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="_cq-gMrFyEeeCH50Lr9AhYw" name="ActionEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_cq_HQbFyEeeCH50Lr9AhYw" name="ActionListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cqeJ4LFyEeeCH50Lr9AhYw" name="EventQueue"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq-gMLFyEeeCH50Lr9AhYw" name="BorderLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crCKkbFyEeeCH50Lr9AhYw" name="Dimension"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crCxo7FyEeeCH50Lr9AhYw" name="Color"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cmdzoLFyEeeCH50Lr9AhYw" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_cqjCYLFyEeeCH50Lr9AhYw" name="Hashtable"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_cqjCYrFyEeeCH50Lr9AhYw" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq_HQ7FyEeeCH50Lr9AhYw" name="ArrayList"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crLUgLFyEeeCH50Lr9AhYw" name="Stack"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crgrsLFyEeeCH50Lr9AhYw" name="Vector"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cm3cQLFyEeeCH50Lr9AhYw" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_cq2kY7FyEeeCH50Lr9AhYw" name="BufferedReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq2kZbFyEeeCH50Lr9AhYw" name="FileNotFoundException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq3ygLFyEeeCH50Lr9AhYw" name="IOException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq3ygrFyEeeCH50Lr9AhYw" name="InputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq4ZkbFyEeeCH50Lr9AhYw" name="InputStreamReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq4Zk7FyEeeCH50Lr9AhYw" name="Reader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq5AoLFyEeeCH50Lr9AhYw" name="StreamTokenizer"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_crMioLFyEeeCH50Lr9AhYw" name="lang">
        <packagedElement xmi:type="uml:Class" xmi:id="_crMiobFyEeeCH50Lr9AhYw" name="Object"/>
        <packagedElement xmi:type="uml:DataType" xmi:id="_crh50LFyEeeCH50Lr9AhYw" name="Character"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_cmaJQLFyEeeCH50Lr9AhYw" name="model">
      <packagedElement xmi:type="uml:Interface" xmi:id="_cn4v8LFyEeeCH50Lr9AhYw" name="IModel2ViewAdapter">
        <ownedComment xmi:id="_csWZMbFyEeeCH50Lr9AhYw">
          <body>@author Alexander Hansen
@author Yiqing Lu
the IModel2ViewAdapter interface.</body>
        </ownedComment>
        <ownedAttribute xmi:id="_cn4v8bFyEeeCH50Lr9AhYw" name="NULL_OBJECT" isLeaf="true" isStatic="true" type="_cn4v8LFyEeeCH50Lr9AhYw" isReadOnly="true" association="_csjNgLFyEeeCH50Lr9AhYw">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_cn4v8rFyEeeCH50Lr9AhYw" value="new IModel2ViewAdapter() {&#xA;&#x9;&#x9;public SequencePlayer2 getPlayer() {&#xA;&#x9;&#x9;&#x9;return null;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;}"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_cn4v87FyEeeCH50Lr9AhYw" name="player" type="_cozV8LFyEeeCH50Lr9AhYw" isReadOnly="true" association="_csj0kbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_cn5XALFyEeeCH50Lr9AhYw" name="MusicPlayerModel">
        <ownedComment xmi:id="_csWZMrFyEeeCH50Lr9AhYw">
          <body>@author Alexander Hansen
@author Yiqing Lu
the ball world model class</body>
        </ownedComment>
        <ownedAttribute xmi:id="_crpOk7FyEeeCH50Lr9AhYw" name="player" type="_cozV8LFyEeeCH50Lr9AhYw" isReadOnly="true" association="_csmQ0bFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_crp1oLFyEeeCH50Lr9AhYw" name="_iModel2View" visibility="private" type="_cn4v8LFyEeeCH50Lr9AhYw" association="_csm34bFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_crp1orFyEeeCH50Lr9AhYw" name="fileName" visibility="private">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_crp1pLFyEeeCH50Lr9AhYw" name="phrase" visibility="private" type="_coIAgLFyEeeCH50Lr9AhYw" association="_csne8LFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_crqcsLFyEeeCH50Lr9AhYw" name="make_playable" visibility="private" type="_cqfYALFyEeeCH50Lr9AhYw" association="_csne87FyEeeCH50Lr9AhYw"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csFTcLFyEeeCH50Lr9AhYw" name="MusicPlayerModel" specification="_cqf_ELFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csFTcbFyEeeCH50Lr9AhYw" name="iModel2View" type="_cn4v8LFyEeeCH50Lr9AhYw"/>
          <ownedParameter xmi:id="_csFTcrFyEeeCH50Lr9AhYw" type="_cn5XALFyEeeCH50Lr9AhYw" direction="return">
            <name xsi:nil="true"/>
          </ownedParameter>
          <language>java</language>
          <body>_iModel2View = iModel2View;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csFTc7FyEeeCH50Lr9AhYw" name="loadFile" specification="_cn6lILFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csFTdLFyEeeCH50Lr9AhYw" name="filename">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <ownedParameter xmi:id="_csFTdbFyEeeCH50Lr9AhYw" direction="return">
            <name xsi:nil="true"/>
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>this.fileName = &quot;/songs/&quot; + filename + &quot;.abc&quot;;
		return ABCUtil.Singleton.getFileContents(this.fileName);
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csFTdrFyEeeCH50Lr9AhYw" name="parseFile" specification="_cn6lI7FyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csFTd7FyEeeCH50Lr9AhYw" direction="return">
            <name xsi:nil="true"/>
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>NESeqList.setToStringAlgo(new toStringAlgo());
		phrase = new ABCParser(this.fileName).parse();
		return phrase.toString();
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csFTeLFyEeeCH50Lr9AhYw" name="playFile" specification="_cn6lJbFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csFTebFyEeeCH50Lr9AhYw" name="instrument">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>player = new SequencePlayer2(16, instrument);
		//		phrase = new Chord(new Note('G', 0, 0, 1.0, false), new Note('A', 0, 0, 1.0, false));
		//		phrase = new Triplet(new Note('G', 0, 0, 1.0, true), new Note('A', 0, 0, 1.0, false), new Note('C', 0, 0, 1.0, false));
		//		phrase = new Note('G', 0, 0, 1.0, false);

		player.setTicksPerDefaultNote(16);
		player.setTempo(120);

		phrase.execute(new playerAlgo(), player, 1);
		if (make_playable != null) {
			make_playable.stop();
		}
		make_playable = player.makePlayable(ISequencePlayerStatus.NULL);

		make_playable.start();
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csFTerFyEeeCH50Lr9AhYw" name="stopFile" specification="_cn6lJ7FyEeeCH50Lr9AhYw">
          <language>java</language>
          <body>make_playable.stop();
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_cn5XAbFyEeeCH50Lr9AhYw" name="start"/>
        <ownedOperation xmi:id="_cn6lILFyEeeCH50Lr9AhYw" name="loadFile" method="_csFTc7FyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_csWZNLFyEeeCH50Lr9AhYw">
            <body>loads the given file.
	 * @param filename the given file to load
	 * @return the content of the file</body>
          </ownedComment>
          <ownedParameter xmi:id="_cn6lIbFyEeeCH50Lr9AhYw" name="filename">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <ownedParameter xmi:id="_cn6lIrFyEeeCH50Lr9AhYw" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_cn6lI7FyEeeCH50Lr9AhYw" name="parseFile" method="_csFTdrFyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_csWZNbFyEeeCH50Lr9AhYw">
            <body>parses the given file.
	 * @return the parse content of the file</body>
          </ownedComment>
          <ownedParameter xmi:id="_cn6lJLFyEeeCH50Lr9AhYw" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_cn6lJbFyEeeCH50Lr9AhYw" name="playFile" method="_csFTeLFyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_csWZNrFyEeeCH50Lr9AhYw">
            <body>plays the given file.
	 * @param instrument the given instrument to play</body>
          </ownedComment>
          <ownedParameter xmi:id="_cn6lJrFyEeeCH50Lr9AhYw" name="instrument">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_cn6lJ7FyEeeCH50Lr9AhYw" name="stopFile" method="_csFTerFyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_csWZN7FyEeeCH50Lr9AhYw">
            <body>stops the given file.</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_cqf_ELFyEeeCH50Lr9AhYw" name="MusicPlayerModel" method="_csFTcLFyEeeCH50Lr9AhYw">
          <eAnnotations xmi:id="_cqf_ErFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_cqf_E7FyEeeCH50Lr9AhYw" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_csWZM7FyEeeCH50Lr9AhYw">
            <body>initiates the frame.
	 * @param iModel2View the IModel2ViewAdapter that will be used throughout the instance</body>
          </ownedComment>
          <ownedParameter xmi:id="_cqf_EbFyEeeCH50Lr9AhYw" name="iModel2View" type="_cn4v8LFyEeeCH50Lr9AhYw"/>
          <ownedParameter xmi:id="_cqf_FLFyEeeCH50Lr9AhYw" type="_cn5XALFyEeeCH50Lr9AhYw" direction="return"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_csjNgLFyEeeCH50Lr9AhYw" name="" memberEnd="_csjNgbFyEeeCH50Lr9AhYw _cn4v8bFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_csjNgbFyEeeCH50Lr9AhYw" name="" type="_cn4v8LFyEeeCH50Lr9AhYw" association="_csjNgLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_csj0kbFyEeeCH50Lr9AhYw" name="" memberEnd="_csj0krFyEeeCH50Lr9AhYw _cn4v87FyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_csj0krFyEeeCH50Lr9AhYw" name="" type="_cn4v8LFyEeeCH50Lr9AhYw" association="_csj0kbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_csmQ0bFyEeeCH50Lr9AhYw" name="" memberEnd="_csmQ0rFyEeeCH50Lr9AhYw _crpOk7FyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_csmQ0rFyEeeCH50Lr9AhYw" name="" type="_cn5XALFyEeeCH50Lr9AhYw" association="_csmQ0bFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_csm34bFyEeeCH50Lr9AhYw" name="" memberEnd="_csm34rFyEeeCH50Lr9AhYw _crp1oLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_csm34rFyEeeCH50Lr9AhYw" name="" type="_cn5XALFyEeeCH50Lr9AhYw" association="_csm34bFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_csne8LFyEeeCH50Lr9AhYw" name="" memberEnd="_csne8bFyEeeCH50Lr9AhYw _crp1pLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_csne8bFyEeeCH50Lr9AhYw" name="" type="_cn5XALFyEeeCH50Lr9AhYw" association="_csne8LFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_csne87FyEeeCH50Lr9AhYw" name="" memberEnd="_csne9LFyEeeCH50Lr9AhYw _crqcsLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_csne9LFyEeeCH50Lr9AhYw" name="" type="_cn5XALFyEeeCH50Lr9AhYw" association="_csne87FyEeeCH50Lr9AhYw"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_cmaJQbFyEeeCH50Lr9AhYw" name="provided">
      <packagedElement xmi:type="uml:Package" xmi:id="_cmawULFyEeeCH50Lr9AhYw" name="player">
        <packagedElement xmi:type="uml:Package" xmi:id="_cmclgbFyEeeCH50Lr9AhYw" name="SequencePlayer2">
          <packagedElement xmi:type="uml:Interface" xmi:id="_cqfYALFyEeeCH50Lr9AhYw" name="IPlayable"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coaUZLFyEeeCH50Lr9AhYw" name="ISequencePlayerStatus">
          <ownedComment xmi:id="_csZcjrFyEeeCH50Lr9AhYw">
            <body>Command that is used to notify a user that a track has stopped playing.
@author swong
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_coa7cbFyEeeCH50Lr9AhYw" name="NULL" isLeaf="true" isStatic="true" type="_coaUZLFyEeeCH50Lr9AhYw" isReadOnly="true" association="_cskboLFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_coa7crFyEeeCH50Lr9AhYw" value="new ISequencePlayerStatus() {&#xA;&#xA;&#x9;&#x9;/**&#xA;&#x9;&#x9; * Prints &quot;ISequencePlayerStatus.NULL.finished(): Track finished playing!&quot; to console.&#xA;&#x9;&#x9; */&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void finished() {&#xA;&#x9;&#x9;&#x9;System.out.println(&quot;ISequencePlayerStatus.NULL.finished(): Track finished playing!&quot;);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedOperation xmi:id="_coa7cLFyEeeCH50Lr9AhYw" name="finished">
            <ownedComment xmi:id="_csZcj7FyEeeCH50Lr9AhYw">
              <body>Called when a track stops playing.</body>
            </ownedComment>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coa7c7FyEeeCH50Lr9AhYw" name="SequencePlayer">
          <ownedComment xmi:id="_csZckLFyEeeCH50Lr9AhYw">
            <body>Sequence Player to create and play MIDI music sequences.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr0NtbFyEeeCH50Lr9AhYw" name="END_OF_TRACK" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr00wLFyEeeCH50Lr9AhYw" value="47"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr00wbFyEeeCH50Lr9AhYw" name="_sequence" visibility="private" type="_crZW9LFyEeeCH50Lr9AhYw" association="_csuztLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr00w7FyEeeCH50Lr9AhYw" name="_track" visibility="private" type="_crZ-AbFyEeeCH50Lr9AhYw" association="_csvawbFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr00xbFyEeeCH50Lr9AhYw" name="_bpm" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr00x7FyEeeCH50Lr9AhYw" name="_ticksPerDefaultNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr1b0bFyEeeCH50Lr9AhYw" name="_ticksPerQuarterNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr1b07FyEeeCH50Lr9AhYw" name="_instrument" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr1b1bFyEeeCH50Lr9AhYw" name="_sequencer" visibility="private" type="_cralEbFyEeeCH50Lr9AhYw" association="_csvaxLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr2C4bFyEeeCH50Lr9AhYw" name="_synthesizer" visibility="private" type="_cq610bFyEeeCH50Lr9AhYw" association="_cswB0LFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr2C47FyEeeCH50Lr9AhYw" name="_offsets" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cr2C5LFyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr2p8LFyEeeCH50Lr9AhYw" value="{ // add these amounts to the base value&#xA;&#x9;&#x9;&#x9;// A   B  C  D  E  F  G&#xA;&#x9;&#x9;&#x9;9, 11, 0, 2, 4, 5, 7 }"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMoNrFyEeeCH50Lr9AhYw" name="SequencePlayer" specification="_cocJkLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMoN7FyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMoOLFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMoObFyEeeCH50Lr9AhYw" type="_coa7c7FyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>init(ticksPerQuarterNote, instrument);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMoOrFyEeeCH50Lr9AhYw" name="init" specification="_cocJlrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMoO7FyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMoPLFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMoPbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerQuarterNote = ticksPerQuarterNote;
		_instrument = instrument;
		_bpm = 0;
		_ticksPerDefaultNote = _ticksPerQuarterNote;

		_sequencer = null;
		_synthesizer = null;
		_track = null;

		try {
			_sequencer = MidiSystem.getSequencer();
			_synthesizer = MidiSystem.getSynthesizer();

			_sequence = new Sequence(Sequence.PPQ, _ticksPerQuarterNote);
			_track = _sequence.createTrack();

			ShortMessage sm = new ShortMessage();
			sm.setMessage(ShortMessage.PROGRAM_CHANGE, 0, _instrument, 0);
			_track.add(new MidiEvent(sm, 0));
		} catch (MidiUnavailableException e) {
			System.out.println(&quot;MIDI Unavailable, SequencePlayer not initialized.&quot;);
			return false;
		} catch (InvalidMidiDataException e) {
			System.out.println(&quot;Invalid MIDI data.&quot;);
			e.printStackTrace();
			return false;
		}

		return true;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csNPQLFyEeeCH50Lr9AhYw" name="addNote" specification="_cqwdwbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csNPQbFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csNPQrFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csNPQ7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return addNote(note, start, 64);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csNPRLFyEeeCH50Lr9AhYw" name="addNote" specification="_cqxE07FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csNPRbFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csNPRrFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csNPR7FyEeeCH50Lr9AhYw" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csNPSLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>if (_track == null) {
			return -1;
		}

		int duration = (int) Math.round(note.getDuration() * _ticksPerDefaultNote);
		if ('Z' == note.getName()) {
			// Rest - just return end tick count
			return start + duration;
		}

		int key = 60; // start at middle C
		key += note.getOctave() * 12;
		key += _offsets[note.getName() - 'A'];
		key += note.getAccidental();

		ShortMessage on;
		ShortMessage off;
		try {
			on = new ShortMessage();
			on.setMessage(ShortMessage.NOTE_ON, 0, key, velocity);
			off = new ShortMessage();
			off.setMessage(ShortMessage.NOTE_OFF, 0, key, velocity);
		} catch (InvalidMidiDataException e) {
			System.out.println(&quot;Invalid MIDI Data, note not added (&quot; + note + &quot;, &quot; + start + &quot;).&quot;);
			// e.printStackTrace();
			return start;
		}

		_track.add(new MidiEvent(on, start));
		_track.add(new MidiEvent(off, start + duration));
		return start + duration;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csNPSbFyEeeCH50Lr9AhYw" name="play" specification="_cqxE2LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csNPSrFyEeeCH50Lr9AhYw" name="statusCmd" type="_coaUZLFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_csNPS7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_csNPTLFyEeeCH50Lr9AhYw" key="final"/>
              </eAnnotations>
            </ownedParameter>
            <language>java</language>
            <body>try {
			_sequencer.open();
			_synthesizer.open();

			_sequencer.getTransmitter().setReceiver(_synthesizer.getReceiver());

			// Specify the sequence to play, and the tempo to play it at
			_sequencer.setSequence(_sequence);
			_sequencer.setTempoInBPM(_bpm);

			// Let us know when it is done playing
			_sequencer.addMetaEventListener(new MetaEventListener() {
				public void meta(MetaMessage m) {
					// A message of this type is automatically sent
					// when we reach the end of the track
					if (m.getType() == END_OF_TRACK) {
						System.out.println(&quot;Finished Playing&quot;);
						stop();
						statusCmd.finished();
					}
				}
			});

			// And start playing now.
			_sequencer.start();
		} catch (MidiUnavailableException e) {
			System.out.println(&quot;Unable to open MIDI synthesizer.&quot;);
			// e.printStackTrace();
		} catch (InvalidMidiDataException e) {
			System.out.println(&quot;Unable to play sequence.&quot;);
			// e.printStackTrace();
		} catch (Exception e) {
			e.printStackTrace();
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csNPTbFyEeeCH50Lr9AhYw" name="stop" specification="_codXsLFyEeeCH50Lr9AhYw">
            <language>java</language>
            <body>_sequencer.close();
		_synthesizer.close();
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csN2ULFyEeeCH50Lr9AhYw" name="getTicksPerDefaultNote" specification="_codXsbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csN2UbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerDefaultNote;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csN2UrFyEeeCH50Lr9AhYw" name="setTicksPerDefaultNote" specification="_codXs7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csN2U7FyEeeCH50Lr9AhYw" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerDefaultNote = ticksPerDefaultNote;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csN2VLFyEeeCH50Lr9AhYw" name="getTempo" specification="_cod-wLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csN2VbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _bpm;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csN2VrFyEeeCH50Lr9AhYw" name="setTempo" specification="_cod-wrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csN2V7FyEeeCH50Lr9AhYw" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_bpm = bpm;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csN2WLFyEeeCH50Lr9AhYw" name="getTicksPerQuarterNote" specification="_cod-xLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csN2WbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerQuarterNote;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_cocJkLFyEeeCH50Lr9AhYw" name="SequencePlayer" method="_csMoNrFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cocJk7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cocJlLFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csZckbFyEeeCH50Lr9AhYw">
              <body>Create a new SequencePlayer to create and play music.
	 * 
	 * @param  ticksPerQuarterNote      - tick definition
	 * @param  instrument               - MIDI instrument</body>
            </ownedComment>
            <ownedParameter xmi:id="_cocJkbFyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cocJkrFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cocJlbFyEeeCH50Lr9AhYw" type="_coa7c7FyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cocJlrFyEeeCH50Lr9AhYw" name="init" method="_csMoOrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZckrFyEeeCH50Lr9AhYw">
              <body>Initialize the SequencePlayer as per the supplied ticksPerQuarterNote and instrument
	 * this SequencePlayer was instantiated with.   This method is called by the constructor to 
	 * initialize the player upon instantiation and can be called again to reinitialize the 
	 * SequencePlayer.
	 * 
	 * @param  ticksPerQuarterNote      - tick definition
	 * @param  instrument               - MIDI instrument
	 * @return                         - true if properly initialized, false otherwise</body>
            </ownedComment>
            <ownedParameter xmi:id="_cocwoLFyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cocwobFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cocworFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_codXsLFyEeeCH50Lr9AhYw" name="stop" method="_csNPTbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZclrFyEeeCH50Lr9AhYw">
              <body>Stop playing music and close resources.</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:id="_codXsbFyEeeCH50Lr9AhYw" name="getTicksPerDefaultNote" method="_csN2ULFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZcl7FyEeeCH50Lr9AhYw">
              <body>Accessor to get the current ticks per default note
	 * @return the _ticksPerDefaultNote</body>
            </ownedComment>
            <ownedParameter xmi:id="_codXsrFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_codXs7FyEeeCH50Lr9AhYw" name="setTicksPerDefaultNote" method="_csN2UrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaDkLFyEeeCH50Lr9AhYw">
              <body>Accessor to set the current ticks per default note
	 * @param ticksPerDefaultNote the _ticksPerDefaultNote to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_codXtLFyEeeCH50Lr9AhYw" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cod-wLFyEeeCH50Lr9AhYw" name="getTempo" method="_csN2VLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaDkbFyEeeCH50Lr9AhYw">
              <body>Accessor for the current tempo
	 * @return the tempo (in beats per minute)</body>
            </ownedComment>
            <ownedParameter xmi:id="_cod-wbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cod-wrFyEeeCH50Lr9AhYw" name="setTempo" method="_csN2VrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaDkrFyEeeCH50Lr9AhYw">
              <body>Set the tempo - can't change the tempo in the middle of a sequence,
	 * the last tempo set will be used for the whole sequence.
	 * 
	 * @param bpm - beats per minute</body>
            </ownedComment>
            <ownedParameter xmi:id="_cod-w7FyEeeCH50Lr9AhYw" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cod-xLFyEeeCH50Lr9AhYw" name="getTicksPerQuarterNote" method="_csN2WLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaDk7FyEeeCH50Lr9AhYw">
              <body>Accessor for the current number of ticks per quarter note.
	 * @return the number of ticks per quarter note</body>
            </ownedComment>
            <ownedParameter xmi:id="_cod-xbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqwdwbFyEeeCH50Lr9AhYw" name="addNote" method="_csNPQLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZck7FyEeeCH50Lr9AhYw">
              <body>Add a note to the MIDI sequence with a default velocity of 64 for middle volume
	 * 
	 * @param note     - the note to schedule in the sequence
	 * @param start    - the tick at which this note should start playing
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqxE0LFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqxE0bFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqxE0rFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqxE07FyEeeCH50Lr9AhYw" name="addNote" method="_csNPRLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZclLFyEeeCH50Lr9AhYw">
              <body>Add a note to the MIDI sequence.
	 * 
	 * @param note     - the note to schedule in the sequence
	 * @param start    - the tick at which this note should start playing
	 * @param velocity - the volume (0-127)
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqxE1LFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqxE1bFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqxE1rFyEeeCH50Lr9AhYw" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqxE17FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqxE2LFyEeeCH50Lr9AhYw" name="play" method="_csNPSbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZclbFyEeeCH50Lr9AhYw">
              <body>Play the created Sequence.
	 * @param statusCmd The finished() method of this command is called when the track finishes being played, i.e. a normal termination.  There is no notification if play is forcibly stopped.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqxE2bFyEeeCH50Lr9AhYw" name="statusCmd" type="_coaUZLFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_cqxE2rFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_cqxE27FyEeeCH50Lr9AhYw" key="final"/>
              </eAnnotations>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cozV8LFyEeeCH50Lr9AhYw" name="SequencePlayer2">
          <ownedComment xmi:id="_csb4yLFyEeeCH50Lr9AhYw">
            <body>Sequence Player to create and play MIDI music sequences.
Differs from SequencePlayer because it has no play() method.   Instead, this class has 
a factory method that creates an SequencePlayer2.IPlayable object that can be individually 
and asynchronously started and stopped.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr9-sLFyEeeCH50Lr9AhYw" name="END_OF_TRACK" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr9-sbFyEeeCH50Lr9AhYw" value="47"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr9-srFyEeeCH50Lr9AhYw" name="_sequence" visibility="private" type="_crZW9LFyEeeCH50Lr9AhYw" association="_cs0TQLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr9-tLFyEeeCH50Lr9AhYw" name="_track" visibility="private" type="_crZ-AbFyEeeCH50Lr9AhYw" association="_cs0TQ7FyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr-lwbFyEeeCH50Lr9AhYw" name="_bpm" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr-lw7FyEeeCH50Lr9AhYw" name="_ticksPerDefaultNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr-lxbFyEeeCH50Lr9AhYw" name="_ticksPerQuarterNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr_M0bFyEeeCH50Lr9AhYw" name="_instrument" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr_M07FyEeeCH50Lr9AhYw" name="_offsets" isLeaf="true" isStatic="true" isReadOnly="true">
            <eAnnotations xmi:id="_cr_M1LFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cr_M1bFyEeeCH50Lr9AhYw" key="ConstantWithGetter"/>
            </eAnnotations>
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cr_M1rFyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr_M2LFyEeeCH50Lr9AhYw" value="{ // add these amounts to the base value&#xA;&#x9;&#x9;&#x9;// A   B  C  D  E  F  G&#xA;&#x9;&#x9;&#x9;9, 11, 0, 2, 4, 5, 7 }"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSu0LFyEeeCH50Lr9AhYw" name="SequencePlayer2" specification="_co0kEbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSu0bFyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu0rFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu07FyEeeCH50Lr9AhYw" type="_cozV8LFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>init(ticksPerQuarterNote, instrument);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSu1LFyEeeCH50Lr9AhYw" name="init" specification="_co1LJLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSu1bFyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu1rFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu17FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerQuarterNote = ticksPerQuarterNote;
		_instrument = instrument;
		_bpm = 0;
		_ticksPerDefaultNote = _ticksPerQuarterNote;

		_track = null;

		try {

			_sequence = new Sequence(Sequence.PPQ, _ticksPerQuarterNote);
			_track = _sequence.createTrack();

			ShortMessage sm = new ShortMessage();
			sm.setMessage(ShortMessage.PROGRAM_CHANGE, 0, _instrument, 0);
			_track.add(new MidiEvent(sm, 0));
		} catch (InvalidMidiDataException e) {
			System.out.println(&quot;Invalid MIDI data.&quot;);
			e.printStackTrace();
			return false;
		}

		return true;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSu2LFyEeeCH50Lr9AhYw" name="addNote" specification="_cq8rALFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSu2bFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csSu2rFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu27FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return addNote(note, start, 64);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSu3LFyEeeCH50Lr9AhYw" name="addNote" specification="_cq9SE7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSu3bFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csSu3rFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu37FyEeeCH50Lr9AhYw" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSu4LFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>if (_track == null) {
			return -1;
		}

		int duration = (int) Math.round(note.getDuration() * _ticksPerDefaultNote);
		if ('Z' == note.getName()) {
			// Rest - just return end tick count
			return start + duration;
		}

		int key = 60; // start at middle C
		key += note.getOctave() * 12;
		key += _offsets[note.getName() - 'A'];
		key += note.getAccidental();

		ShortMessage on;
		ShortMessage off;
		try {
			on = new ShortMessage();
			on.setMessage(ShortMessage.NOTE_ON, 0, key, velocity);
			off = new ShortMessage();
			off.setMessage(ShortMessage.NOTE_OFF, 0, key, velocity);
		} catch (InvalidMidiDataException e) {
			System.out.println(&quot;Invalid MIDI Data, note not added (&quot; + note + &quot;, &quot; + start + &quot;).&quot;);
			// e.printStackTrace();
			return start;
		}

		_track.add(new MidiEvent(on, start));
		_track.add(new MidiEvent(off, start + duration));
		return start + duration;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csTV4LFyEeeCH50Lr9AhYw" name="makePlayable" specification="_cq9SGLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csTV4bFyEeeCH50Lr9AhYw" name="statusCmd" type="_coaUZLFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_csTV4rFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_csTV47FyEeeCH50Lr9AhYw" key="final"/>
              </eAnnotations>
            </ownedParameter>
            <ownedParameter xmi:id="_csTV5LFyEeeCH50Lr9AhYw" type="_coz9ALFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>try {
			final Sequencer _sequencer = MidiSystem.getSequencer(); // MIDI Sequencer object
			final Synthesizer _synthesizer = MidiSystem.getSynthesizer(); // MIDI synthesizer object

			final IPlayable playable = new IPlayable() {

				@Override
				public void start() {
					_sequencer.start();
				}

				@Override
				public void stop() {
					_sequencer.close();
					_synthesizer.close();
				}
			};

			_sequencer.open();
			_synthesizer.open();

			_sequencer.getTransmitter().setReceiver(_synthesizer.getReceiver());

			// Specify the sequence to play, and the tempo to play it at
			_sequencer.setSequence(_sequence);
			_sequencer.setTempoInBPM(_bpm);

			// Let us know when it is done playing
			_sequencer.addMetaEventListener(new MetaEventListener() {
				public void meta(MetaMessage m) {
					// A message of this type is automatically sent
					// when we reach the end of the track
					if (m.getType() == END_OF_TRACK) {
						System.out.println(&quot;SequencePlayer2.play(): End of Track&quot;);
						playable.stop();
						statusCmd.finished();
					} else
						System.out.println(&quot;Message type received: &quot; + m.getType());
				}
			});

			return playable;
		} catch (MidiUnavailableException e) {
			System.out.println(&quot;Unable to open MIDI synthesizer.&quot;);
			// e.printStackTrace();
		} catch (InvalidMidiDataException e) {
			System.out.println(&quot;Unable to play sequence.&quot;);
			// e.printStackTrace();
		} catch (Exception e) {
			e.printStackTrace();
		}

		return IPlayable.NULL;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csTV5bFyEeeCH50Lr9AhYw" name="getTicksPerDefaultNote" specification="_co1yMLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csTV5rFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerDefaultNote;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csTV57FyEeeCH50Lr9AhYw" name="setTicksPerDefaultNote" specification="_co1yMrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csTV6LFyEeeCH50Lr9AhYw" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerDefaultNote = ticksPerDefaultNote;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csTV6bFyEeeCH50Lr9AhYw" name="getTempo" specification="_co1yNLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csTV6rFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _bpm;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csTV67FyEeeCH50Lr9AhYw" name="setTempo" specification="_co2ZQLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csTV7LFyEeeCH50Lr9AhYw" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_bpm = bpm;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csTV7bFyEeeCH50Lr9AhYw" name="getTicksPerQuarterNote" specification="_co2ZQrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csTV7rFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerQuarterNote;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_co0kEbFyEeeCH50Lr9AhYw" name="SequencePlayer2" method="_csSu0LFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_co1LIbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_co1LIrFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csb4zLFyEeeCH50Lr9AhYw">
              <body>Create a new SequencePlayer to create and play music.
	 * 
	 * @param  ticksPerQuarterNote      - tick definition
	 * @param  instrument               - MIDI instrument</body>
            </ownedComment>
            <ownedParameter xmi:id="_co0kErFyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_co1LILFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_co1LI7FyEeeCH50Lr9AhYw" type="_cozV8LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_co1LJLFyEeeCH50Lr9AhYw" name="init" method="_csSu1LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4zbFyEeeCH50Lr9AhYw">
              <body>Initialize the SequencePlayer as per the supplied ticksPerQuarterNote and instrument
	 * this SequencePlayer was instantiated with.   This method is called by the constructor to 
	 * initialize the player upon instantiation and can be called again to reinitialize the 
	 * SequencePlayer.
	 * 
	 * @param  ticksPerQuarterNote      - tick definition
	 * @param  instrument               - MIDI instrument
	 * @return                         - true if properly initialized, false otherwise</body>
            </ownedComment>
            <ownedParameter xmi:id="_co1LJbFyEeeCH50Lr9AhYw" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_co1LJrFyEeeCH50Lr9AhYw" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_co1LJ7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_co1yMLFyEeeCH50Lr9AhYw" name="getTicksPerDefaultNote" method="_csTV5bFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb40bFyEeeCH50Lr9AhYw">
              <body>Accessor to get the current ticks per default note
	 * @return the _ticksPerDefaultNote</body>
            </ownedComment>
            <ownedParameter xmi:id="_co1yMbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_co1yMrFyEeeCH50Lr9AhYw" name="setTicksPerDefaultNote" method="_csTV57FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb40rFyEeeCH50Lr9AhYw">
              <body>Accessor to set the current ticks per default note
	 * @param ticksPerDefaultNote the _ticksPerDefaultNote to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_co1yM7FyEeeCH50Lr9AhYw" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_co1yNLFyEeeCH50Lr9AhYw" name="getTempo" method="_csTV6bFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb407FyEeeCH50Lr9AhYw">
              <body>Accessor for the current tempo
	 * @return the tempo (in beats per minute)</body>
            </ownedComment>
            <ownedParameter xmi:id="_co1yNbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_co2ZQLFyEeeCH50Lr9AhYw" name="setTempo" method="_csTV67FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb41LFyEeeCH50Lr9AhYw">
              <body>Set the tempo - can't change the tempo in the middle of a sequence,
	 * the last tempo set will be used for the whole sequence.
	 * 
	 * @param bpm - beats per minute</body>
            </ownedComment>
            <ownedParameter xmi:id="_co2ZQbFyEeeCH50Lr9AhYw" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_co2ZQrFyEeeCH50Lr9AhYw" name="getTicksPerQuarterNote" method="_csTV7bFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_cscf0LFyEeeCH50Lr9AhYw">
              <body>Accessor for the current number of ticks per quarter note.
	 * @return the number of ticks per quarter note</body>
            </ownedComment>
            <ownedParameter xmi:id="_co2ZQ7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cq8rALFyEeeCH50Lr9AhYw" name="addNote" method="_csSu2LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4zrFyEeeCH50Lr9AhYw">
              <body>Add a note to the MIDI sequence with a default velocity of 64 for middle volume
	 * 
	 * @param note     - the note to schedule in the sequence
	 * @param start    - the tick at which this note should start playing
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_cq9SELFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cq9SEbFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cq9SErFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cq9SE7FyEeeCH50Lr9AhYw" name="addNote" method="_csSu3LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4z7FyEeeCH50Lr9AhYw">
              <body>Add a note to the MIDI sequence.
	 * 
	 * @param note     - the note to schedule in the sequence
	 * @param start    - the tick at which this note should start playing
	 * @param velocity - the volume (0-127)
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_cq9SFLFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cq9SFbFyEeeCH50Lr9AhYw" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cq9SFrFyEeeCH50Lr9AhYw" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cq9SF7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cq9SGLFyEeeCH50Lr9AhYw" name="makePlayable" method="_csTV4LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb40LFyEeeCH50Lr9AhYw">
              <body>Factory method for an IPlayable object that can play the currently programmed music sequence.
	 * @param statusCmd The finished() method of this command is called when the track finishes being played, i.e. a normal termination.  There is no notification if play is forcibly stopped.
	 * @return An IPlayable object associated with the currently programmed music sequence.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cq9SGbFyEeeCH50Lr9AhYw" name="statusCmd" type="_coaUZLFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_cq95ILFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_cq95IbFyEeeCH50Lr9AhYw" key="final"/>
              </eAnnotations>
            </ownedParameter>
            <ownedParameter xmi:id="_cq9SGrFyEeeCH50Lr9AhYw" type="_coz9ALFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <nestedClassifier xmi:type="uml:Interface" xmi:id="_coz9ALFyEeeCH50Lr9AhYw" name="IPlayable">
            <eAnnotations xmi:id="_coz9AbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coz9ArFyEeeCH50Lr9AhYw" key="static"/>
            </eAnnotations>
            <ownedComment xmi:id="_csb4ybFyEeeCH50Lr9AhYw">
              <body>Interface  that represents a playable entity.
	 * @author swong
	 *</body>
            </ownedComment>
            <ownedAttribute xmi:id="_coz9BbFyEeeCH50Lr9AhYw" name="NULL" isLeaf="true" isStatic="true" type="_coz9ALFyEeeCH50Lr9AhYw" isReadOnly="true" association="_cskbo7FyEeeCH50Lr9AhYw">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_co0kELFyEeeCH50Lr9AhYw" value="new IPlayable() {&#xA;&#xA;&#x9;&#x9;&#x9;@Override&#xA;&#x9;&#x9;&#x9;public void start() {&#xA;&#x9;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;&#x9;@Override&#xA;&#x9;&#x9;&#x9;public void stop() {&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}"/>
            </ownedAttribute>
            <ownedOperation xmi:id="_coz9A7FyEeeCH50Lr9AhYw" name="start">
              <ownedComment xmi:id="_csb4yrFyEeeCH50Lr9AhYw">
                <body>Starts the sequencer associated with this playable entity</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_coz9BLFyEeeCH50Lr9AhYw" name="stop">
              <ownedComment xmi:id="_csb4y7FyEeeCH50Lr9AhYw">
                <body>Stops the sequencer and synthesizer associated with this playable entity</body>
              </ownedComment>
            </ownedOperation>
          </nestedClassifier>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cskboLFyEeeCH50Lr9AhYw" name="" memberEnd="_cskbobFyEeeCH50Lr9AhYw _coa7cbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cskbobFyEeeCH50Lr9AhYw" name="" type="_coaUZLFyEeeCH50Lr9AhYw" association="_cskboLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cskbo7FyEeeCH50Lr9AhYw" name="" memberEnd="_cskbpLFyEeeCH50Lr9AhYw _coz9BbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cskbpLFyEeeCH50Lr9AhYw" name="" type="_coz9ALFyEeeCH50Lr9AhYw" association="_cskbo7FyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csuztLFyEeeCH50Lr9AhYw" name="" memberEnd="_csuztbFyEeeCH50Lr9AhYw _cr00wbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csuztbFyEeeCH50Lr9AhYw" name="" type="_coa7c7FyEeeCH50Lr9AhYw" association="_csuztLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csvawbFyEeeCH50Lr9AhYw" name="" memberEnd="_csvawrFyEeeCH50Lr9AhYw _cr00w7FyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csvawrFyEeeCH50Lr9AhYw" name="" type="_coa7c7FyEeeCH50Lr9AhYw" association="_csvawbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csvaxLFyEeeCH50Lr9AhYw" name="" memberEnd="_csvaxbFyEeeCH50Lr9AhYw _cr1b1bFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csvaxbFyEeeCH50Lr9AhYw" name="" type="_coa7c7FyEeeCH50Lr9AhYw" association="_csvaxLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cswB0LFyEeeCH50Lr9AhYw" name="" memberEnd="_cswB0bFyEeeCH50Lr9AhYw _cr2C4bFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cswB0bFyEeeCH50Lr9AhYw" name="" type="_coa7c7FyEeeCH50Lr9AhYw" association="_cswB0LFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cs0TQLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs0TQbFyEeeCH50Lr9AhYw _cr9-srFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cs0TQbFyEeeCH50Lr9AhYw" name="" type="_cozV8LFyEeeCH50Lr9AhYw" association="_cs0TQLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cs0TQ7FyEeeCH50Lr9AhYw" name="" memberEnd="_cs0TRLFyEeeCH50Lr9AhYw _cr9-tLFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cs0TRLFyEeeCH50Lr9AhYw" name="" type="_cozV8LFyEeeCH50Lr9AhYw" association="_cs0TQ7FyEeeCH50Lr9AhYw"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cmawUrFyEeeCH50Lr9AhYw" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_cot2YLFyEeeCH50Lr9AhYw" name="ABCInstrument">
          <ownedComment xmi:id="_csbRvbFyEeeCH50Lr9AhYw">
            <body>Represents an instrument as a name and an integer value
@author swong
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr7icLFyEeeCH50Lr9AhYw" name="name" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr7icbFyEeeCH50Lr9AhYw" name="value" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQ5prFyEeeCH50Lr9AhYw" name="ABCInstrument" specification="_cot2YbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csQ5p7FyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csQ5qLFyEeeCH50Lr9AhYw" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csQ5qbFyEeeCH50Lr9AhYw" type="_cot2YLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>this.name = name;
		this.value = value;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csRgsLFyEeeCH50Lr9AhYw" name="toString" specification="_coudc7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csRgsbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return name + &quot;: &quot; + value;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_cot2YbFyEeeCH50Lr9AhYw" name="ABCInstrument" method="_csQ5prFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coudcLFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coudcbFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cot2YrFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cot2Y7FyEeeCH50Lr9AhYw" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coudcrFyEeeCH50Lr9AhYw" type="_cot2YLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coudc7FyEeeCH50Lr9AhYw" name="toString" method="_csRgsLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_couddLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_couddbFyEeeCH50Lr9AhYw" name="ABCUtil">
          <ownedComment xmi:id="_csbRvrFyEeeCH50Lr9AhYw">
            <body>Singleton utility class that has methods for parsing,
reading file content and getting the list of instruments.
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr7icrFyEeeCH50Lr9AhYw" name="Singleton" isLeaf="true" isStatic="true" type="_couddbFyEeeCH50Lr9AhYw" isReadOnly="true" association="_csyeE7FyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr7ic7FyEeeCH50Lr9AhYw" value="new ABCUtil()"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csRgsrFyEeeCH50Lr9AhYw" name="parseFraction" specification="_covEhbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csRgs7FyEeeCH50Lr9AhYw" name="frac">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csRgtLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <language>java</language>
            <body>String[] vals = frac.split(&quot;/&quot;);
		if (vals.length != 2) {
			throw new NumberFormatException(frac + &quot; is not a fraction.&quot;);
		}
		double num = Double.parseDouble(vals[0]);
		double denom = Double.parseDouble(vals[1]);
		return num / denom;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csRgtbFyEeeCH50Lr9AhYw" name="parseTempo" specification="_covrkLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csRgtrFyEeeCH50Lr9AhYw" name="tempo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csRgt7FyEeeCH50Lr9AhYw" name="defaultNotesPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csRguLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <language>java</language>
            <body>String els[] = tempo.split(&quot;=&quot;);
		double bpm = 0;
		if (1 == els.length) {
			bpm = Double.parseDouble(els[0]) / defaultNotesPerQuarterNote;
		} else {
			double note = parseFraction(els[0]);
			bpm = Double.parseDouble(els[1]) / (0.25 / note);
		}
		return bpm;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csRgubFyEeeCH50Lr9AhYw" name="getFileContents" specification="_covrlLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csRgurFyEeeCH50Lr9AhYw" name="filename">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csRgu7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String fileContents = &quot;&quot;;

		try {
			InputStream is = this.getClass().getResource(filename).openStream();

			BufferedReader input = new BufferedReader(new InputStreamReader(is));

			try {
				// use buffering, reading one line at a time
				// FileReader always assumes default
				// encoding is OK!

				String line = null; // not declared within while loop

				/*
				 * readLine is a bit quirky : it returns the
				 * content of a line MINUS the newline. it
				 * returns null only for the END of the
				 * stream. it returns an empty String if two
				 * newlines appear in a row.
				 */
				while ((line = input.readLine()) != null) {
					fileContents += line + &quot;\n&quot;;
				}
			} finally {
				input.close();
			}
		} catch (Exception e) {
			return &quot;Error loading file: &quot; + filename + &quot;\n&quot; + e + &quot;\n&quot;;
		}

		return fileContents;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csRgvLFyEeeCH50Lr9AhYw" name="getInstruments" specification="_covrl7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csRgvbFyEeeCH50Lr9AhYw" type="_cot2YLFyEeeCH50Lr9AhYw" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csRgvrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <language>java</language>
            <body>try {
			Synthesizer synth = MidiSystem.getSynthesizer();
			synth.open();
			Instrument[] instruments = synth.getAvailableInstruments();
			ABCInstrument[] result = new ABCInstrument[instruments.length];
			for (int i = 0; i &lt; instruments.length; i++) {
				result[i] = new ABCInstrument(instruments[i].getName(), instruments[i].getPatch().getProgram());
			}

			synth.close();
			return result;
		} catch (MidiUnavailableException e) {
			System.err.println(&quot;ABCUtil.getInstruments: &quot; + e);
			return null;
		}
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_covEgLFyEeeCH50Lr9AhYw" name="ABCUtil" visibility="private">
            <eAnnotations xmi:id="_covEgbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_covEgrFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_covEhLFyEeeCH50Lr9AhYw" type="_couddbFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_covEhbFyEeeCH50Lr9AhYw" name="parseFraction" method="_csRgsrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csbRv7FyEeeCH50Lr9AhYw">
              <body>Return the evaluation of a string &quot;a/b&quot;.
	 * 
	 * @param frac - a string containing a fraction
	 * @return     - the result of evaluating the fraction</body>
            </ownedComment>
            <ownedParameter xmi:id="_covEhrFyEeeCH50Lr9AhYw" name="frac">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_covEh7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_covrkLFyEeeCH50Lr9AhYw" name="parseTempo" method="_csRgtbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csbRwLFyEeeCH50Lr9AhYw">
              <body>Return the tempo given by the input string.  The returned value is in the 
	 * units of quarter notes per minute.
	 * 
	 * Accepts &quot;bpm&quot; (beats per default note) or &quot;a/b=bpm&quot; (beats per a/b note).
	 * 
	 * @param tempo                      - tempo represented as a string
	 * @param defaultNotesPerQuarterNote - default notes per quarter note 
	 * @return                           - the tempo indicated by the string</body>
            </ownedComment>
            <ownedParameter xmi:id="_covrkbFyEeeCH50Lr9AhYw" name="tempo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_covrkrFyEeeCH50Lr9AhYw" name="defaultNotesPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_covrk7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_covrlLFyEeeCH50Lr9AhYw" name="getFileContents" method="_csRgubFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csbRwbFyEeeCH50Lr9AhYw">
              <body>Returns the contents of a text file, e.g. an abc file, as a single string.
	 * @param filename the name of the file with respect to the default package, where &quot;/&quot; refers to the default package, e.g. a file in the &quot;data&quot; package would &quot;/data/myfile.abc&quot;
	 * @return the contents of the file</body>
            </ownedComment>
            <ownedParameter xmi:id="_covrlbFyEeeCH50Lr9AhYw" name="filename">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_covrlrFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_covrl7FyEeeCH50Lr9AhYw" name="getInstruments" method="_csRgvLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csbRwrFyEeeCH50Lr9AhYw">
              <body>Get an array of all the available instruments as ABCInstruments 
	 * where the instrument's value is the MIDI instrument number
	 * 
	 * @return an array of ABCInstruments</body>
            </ownedComment>
            <ownedParameter xmi:id="_covrmLFyEeeCH50Lr9AhYw" type="_cot2YLFyEeeCH50Lr9AhYw" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_covrmbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cowSoLFyEeeCH50Lr9AhYw" name="KeySignature">
          <ownedComment xmi:id="_csbRw7FyEeeCH50Lr9AhYw">
            <body>Utility class to simplify dealing with key signatures 
Usage:
KeySignature keySig = new KeySignature(aKey); // aKey is a string representing a key, e.g. &quot;C&quot;, &quot;Bb&quot;, &quot;Am&quot;
Note adjustedNote = keySig.adjust(originalNote); // returns the Note object, adjusted so that it matches the key,
e.g for key of &quot;D&quot;, an &quot;F&quot; --&amp;gt; &quot;F#&quot;.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr7idLFyEeeCH50Lr9AhYw" name="_major" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cr8JgLFyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr8JgrFyEeeCH50Lr9AhYw" value="{ 0, 2, 2, 1, 2, 2, 2 //, 1&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr8Jg7FyEeeCH50Lr9AhYw" name="_minor" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cr8JhLFyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr8JhrFyEeeCH50Lr9AhYw" value="{ // Half steps in a Minor key&#xA;&#x9;&#x9;&#x9;0, 2, 1, 2, 2, 1, 2 //, 2&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr8wkbFyEeeCH50Lr9AhYw" name="keymap" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <qualifier xmi:id="_cr8wlLFyEeeCH50Lr9AhYw">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </qualifier>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr8wkrFyEeeCH50Lr9AhYw" value="new Hashtable&lt;Character, Integer>()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr8wlbFyEeeCH50Lr9AhYw" name="notes" visibility="private" type="_cow5sLFyEeeCH50Lr9AhYw" association="_cszFIbFyEeeCH50Lr9AhYw">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cr8wlrFyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr8wmLFyEeeCH50Lr9AhYw" value="{ new KeyNote('A', 0), new KeyNote('A', 1), new KeyNote('B', 0), new KeyNote('C', 0),&#xA;&#x9;&#x9;&#x9;new KeyNote('C', 1), new KeyNote('D', 0), new KeyNote('D', 1), new KeyNote('E', 0), new KeyNote('F', 0),&#xA;&#x9;&#x9;&#x9;new KeyNote('F', 1), new KeyNote('G', 0), new KeyNote('G', 1) }"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr9XobFyEeeCH50Lr9AhYw" name="fs_dsm" visibility="private" type="_cow5sLFyEeeCH50Lr9AhYw" association="_cszsMbFyEeeCH50Lr9AhYw">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cr9XorFyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr9XpLFyEeeCH50Lr9AhYw" value="{ new KeyNote('A', 1), new KeyNote('B', 0), new KeyNote('C', 1), new KeyNote('D', 1),&#xA;&#x9;&#x9;&#x9;new KeyNote('E', 1), new KeyNote('F', 1), new KeyNote('G', 1) }"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSHwrFyEeeCH50Lr9AhYw" name="KeySignature" specification="_coyH0LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSHw7FyEeeCH50Lr9AhYw" name="key">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSHxLFyEeeCH50Lr9AhYw" type="_cowSoLFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
            </ownedParameter>
            <language>java</language>
            <body>// Get rid of spurious &quot;maj&quot; at the end, if it's there
		if (key.endsWith(&quot;maj&quot;)) {
			key = key.replace(&quot;maj&quot;, &quot;&quot;);
		}

		// Special case keys with 6 sharps
		if ((key == &quot;F#&quot;) || (key == &quot;D#m&quot;)) {
			for (KeyNote n : fs_dsm) {
				keymap.put(n.letter, n.accidental);
			}
			return;
		}

		char keynote = key.charAt(0);
		int cur = -1;

		for (int i = 0; i &lt; notes.length; i++) {
			if (notes[i].letter == keynote) {
				cur = i;
				break;
			}
		}

		if (cur == -1) {
			System.out.println(&quot;Invalid key: &quot; + key);
			return;
		}

		int[] steps = _major;

		int idx = 1;
		while (idx &lt; key.length()) {
			switch (key.charAt(idx)) {
			case '#':
				cur += 1;
				break;

			case 'b':
				cur -= 1;
				break;

			case 'm':
				steps = _minor;
				break;

			default:
				System.out.println(&quot;Invalid key: &quot; + key);
				return;
			}
			idx++;
		}

		if (cur == -1) {
			cur = notes.length - 1;
		}

		for (int i : steps) {
			cur += i;
			if (cur >= notes.length) {
				cur -= notes.length;
			}
			KeyNote n = notes[cur];
			insert(n);
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSHxbFyEeeCH50Lr9AhYw" name="convertflat" specification="_coyH1bFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSHxrFyEeeCH50Lr9AhYw" name="n">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csSHx7FyEeeCH50Lr9AhYw" type="_cow5sLFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
            </ownedParameter>
            <language>java</language>
            <body>char next = (char) (n + 1);
		if (next == 'H') {
			next = 'A';
		}
		return new KeyNote(next, -1);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSHyLFyEeeCH50Lr9AhYw" name="insert" specification="_cq7c4bFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSHybFyEeeCH50Lr9AhYw" name="n" type="_cow5sLFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>if (!keymap.containsKey(n.letter)) {
			keymap.put(n.letter, n.accidental);
			return;
		}

		if (n.accidental == 1) {
			// Move sharp up to next flat
			insert(convertflat(n.letter));
			return;
		}

		if ((n.accidental == 0) || (n.accidental == -1)) {
			// Conflict, move higher note up to next flat
			int a = keymap.get(n.letter);
			a = Math.min(a, n.accidental);
			insert(convertflat(n.letter));
			keymap.put(n.letter, a);
			return;
		}

		// Shouldn't get here
		System.out.println(&quot;Should not reach here.&quot;);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSHyrFyEeeCH50Lr9AhYw" name="map" specification="_crig4bFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSHy7FyEeeCH50Lr9AhYw" name="note" type="_crh50LFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csSHzLFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>if (keymap.containsKey(note)) {
			return (int) keymap.get(note);
		} else {
			return 0;
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSHzbFyEeeCH50Lr9AhYw" name="adjust" specification="_cq8D8LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csSHzrFyEeeCH50Lr9AhYw" name="n" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csSHz7FyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
            </ownedParameter>
            <language>java</language>
            <body>if (n.getAccidental() != 0 &amp;&amp; !n.getIsNatural()) {
			return n; // Accidentals set and is not natural
		} else if (n.getIsNatural()) {
			return n; // override key signature
		} else {
			// normal key signature mapping applies
			int accidental = map(n.getName());
			if (accidental == 0) {
				return n; // nothing to change
			}
			return new Note(n.getName(), n.getOctave(), accidental, n.getDuration(), false); // must be false isNatural
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSH0LFyEeeCH50Lr9AhYw" name="printmap" specification="_coyu4LFyEeeCH50Lr9AhYw">
            <language>java</language>
            <body>System.out.println(keymap);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coyH0LFyEeeCH50Lr9AhYw" name="KeySignature" method="_csSHwrFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coyH0rFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coyH07FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csb4wrFyEeeCH50Lr9AhYw">
              <body>Generate a &quot;Key&quot; object that enables easy access to the key signature.
	 * 
	 * @param key        - String indicating key (i.e., &quot;C&quot; or &quot;D#m&quot;)</body>
            </ownedComment>
            <ownedParameter xmi:id="_coyH0bFyEeeCH50Lr9AhYw" name="key">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coyH1LFyEeeCH50Lr9AhYw" type="_cowSoLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coyH1bFyEeeCH50Lr9AhYw" name="convertflat" visibility="private" method="_csSHxbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4w7FyEeeCH50Lr9AhYw">
              <body>Helper method to convert a note to its equivalent flat version.
	 * 
	 * @param n  - note letter
	 * @return   - equivalent flat version of note n</body>
            </ownedComment>
            <ownedParameter xmi:id="_coyH1rFyEeeCH50Lr9AhYw" name="n">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cq7c4LFyEeeCH50Lr9AhYw" type="_cow5sLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coyu4LFyEeeCH50Lr9AhYw" name="printmap" method="_csSH0LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4x7FyEeeCH50Lr9AhYw">
              <body>Print the mapping for this key signature</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:id="_cq7c4bFyEeeCH50Lr9AhYw" name="insert" visibility="private" method="_csSHyLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4xLFyEeeCH50Lr9AhYw">
              <body>Helper method to insert the given note into the keymap.
	 * 
	 * @param n  - note to add to the map</body>
            </ownedComment>
            <ownedParameter xmi:id="_cq7c4rFyEeeCH50Lr9AhYw" name="n" type="_cow5sLFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cq8D8LFyEeeCH50Lr9AhYw" name="adjust" method="_csSHzbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4xrFyEeeCH50Lr9AhYw">
              <body>Takes a note and returns the properly transposed note in this key signature
	 *
	 * @param n - note to be adjusted
	 * @return A new, adjusted Note</body>
            </ownedComment>
            <ownedParameter xmi:id="_cq8D8bFyEeeCH50Lr9AhYw" name="n" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cq8D8rFyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crig4bFyEeeCH50Lr9AhYw" name="map" visibility="private" method="_csSHyrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csb4xbFyEeeCH50Lr9AhYw">
              <body>Takes a note (with no accidentals) and returns the accidental for this
	 * key signature.
	 * 
	 * @param  note - in [A, B, C, D, E, F, G]
	 * @return accidental for the note in this key signature [-1, 0, 1]</body>
            </ownedComment>
            <ownedParameter xmi:id="_crig4rFyEeeCH50Lr9AhYw" name="note" type="_crh50LFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crig47FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <nestedClassifier xmi:type="uml:Class" xmi:id="_cow5sLFyEeeCH50Lr9AhYw" name="KeyNote" visibility="private">
            <ownedComment xmi:id="_csb4wLFyEeeCH50Lr9AhYw">
              <body>Utility class to keep track of the position of notes</body>
            </ownedComment>
            <ownedAttribute xmi:id="_cr8Jh7FyEeeCH50Lr9AhYw" name="letter">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr8JibFyEeeCH50Lr9AhYw" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csRgv7FyEeeCH50Lr9AhYw" name="KeyNote" specification="_cow5sbFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csRgwLFyEeeCH50Lr9AhYw" name="letter">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csRgwbFyEeeCH50Lr9AhYw" name="accidental">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csRgwrFyEeeCH50Lr9AhYw" type="_cow5sLFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
              </ownedParameter>
              <language>java</language>
              <body>this.letter = letter;
			this.accidental = accidental;
		</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csSHwLFyEeeCH50Lr9AhYw" name="toString" specification="_coxgxLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csSHwbFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>return &quot;&quot; + letter + accidental;
		</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_cow5sbFyEeeCH50Lr9AhYw" name="KeyNote" visibility="package" method="_csRgv7FyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_coxgwbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_coxgwrFyEeeCH50Lr9AhYw" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_csb4wbFyEeeCH50Lr9AhYw">
                <body>Constructor for the class
		 * @param letter  The letter of the note
		 * @param accidental  Whether or not the note is accidental:  -1 = flat, 0 = natural, +1 = sharp</body>
              </ownedComment>
              <ownedParameter xmi:id="_cow5srFyEeeCH50Lr9AhYw" name="letter">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
              </ownedParameter>
              <ownedParameter xmi:id="_coxgwLFyEeeCH50Lr9AhYw" name="accidental">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_coxgw7FyEeeCH50Lr9AhYw" type="_cow5sLFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_coxgxLFyEeeCH50Lr9AhYw" name="toString" method="_csSHwLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_coxgxbFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
          </nestedClassifier>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csyeE7FyEeeCH50Lr9AhYw" name="" memberEnd="_csyeFLFyEeeCH50Lr9AhYw _cr7icrFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csyeFLFyEeeCH50Lr9AhYw" name="" type="_couddbFyEeeCH50Lr9AhYw" association="_csyeE7FyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cszFIbFyEeeCH50Lr9AhYw" name="" memberEnd="_cszFIrFyEeeCH50Lr9AhYw _cr8wlbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cszFIrFyEeeCH50Lr9AhYw" name="" type="_cowSoLFyEeeCH50Lr9AhYw" association="_cszFIbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cszsMbFyEeeCH50Lr9AhYw" name="" memberEnd="_cszsMrFyEeeCH50Lr9AhYw _cr9XobFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cszsMrFyEeeCH50Lr9AhYw" name="" type="_cowSoLFyEeeCH50Lr9AhYw" association="_cszsMbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cmb-cLFyEeeCH50Lr9AhYw" name="abcParser">
        <packagedElement xmi:type="uml:Class" xmi:id="_cn7zQLFyEeeCH50Lr9AhYw" name="ABCParser">
          <ownedComment xmi:id="_csWZOLFyEeeCH50Lr9AhYw">
            <body>Parses an abc file into IPhrase music structures&lt;br/>

Usage: &lt;br/>
ABCParser parser = new ABCParser(&quot;/data/aMusicFile.abc&quot;); &lt;br/>
IPhrase phrase = parser.parse(); &lt;br/>

Cases handled:&lt;br/>
- single notes with and without accidentals and naturals with regards to measures&lt;br/>
- chords&lt;br/>
- dotted notes&lt;br/>
- grace notes&lt;br/>
- repeats, including first and second repeats.&lt;br/>
- triplets &lt;br/>
- tuplets&lt;br/>
- all headers&lt;br/>
- quoted text&lt;br/>
- D.C. al fine&lt;br/>
- EOF (End Of File)&lt;br/>
&lt;br/>
All other cases ignored.

@author swong
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_crqcsrFyEeeCH50Lr9AhYw" name="abcT" visibility="private" type="_conIsrFyEeeCH50Lr9AhYw" association="_csoGAbFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_crqctLFyEeeCH50Lr9AhYw" name="beginningTarget" visibility="private" type="_coCg8LFyEeeCH50Lr9AhYw" association="_csotEbFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crqctbFyEeeCH50Lr9AhYw" value="new DecoratorSeqList()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crrDwbFyEeeCH50Lr9AhYw" name="jumpTargetStack" visibility="private" type="_crLUgLFyEeeCH50Lr9AhYw" association="_csotFLFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crrDw7FyEeeCH50Lr9AhYw" value="new Stack&lt;DecoratorSeqList>()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crrq0bFyEeeCH50Lr9AhYw" name="jumpSecondRepeatStack" visibility="private" type="_crLUgLFyEeeCH50Lr9AhYw" association="_cspUIbFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crsR4LFyEeeCH50Lr9AhYw" value="new Stack&lt;DecoratorSeqList>()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crsR4rFyEeeCH50Lr9AhYw" name="makeSeqListAlgo" visibility="private" type="_cohCELFyEeeCH50Lr9AhYw" association="_csp7MbFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crsR47FyEeeCH50Lr9AhYw" value="new ATokVisitor(new ITokVisitorCmd() {&#xA;&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;/**&#xA;&#x9;&#x9; * Default behavior is to ignore any unrecognized tokens by merely proceeding to the next one.&#xA;&#x9;&#x9; */&#xA;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xA;&#x9;&#x9;&#x9;System.out.println(&quot;Unhandled Token: &quot; + host);&#xA;&#x9;&#x9;&#x9;return abcT.getNextToken().execute(makeSeqListAlgo, params);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;}) {&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crsR5bFyEeeCH50Lr9AhYw" name="isGrace" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crs48LFyEeeCH50Lr9AhYw" value="false"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crs48rFyEeeCH50Lr9AhYw" name="grace_multiplier" visibility="package">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crs487FyEeeCH50Lr9AhYw" value="0.2"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crs49bFyEeeCH50Lr9AhYw" name="graceDuration" visibility="package">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crs49rFyEeeCH50Lr9AhYw" value="0.0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crtgALFyEeeCH50Lr9AhYw" name="dottedCorrection" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crtgAbFyEeeCH50Lr9AhYw" value="0.0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crtgA7FyEeeCH50Lr9AhYw" name="checkNextNoteAlgo" visibility="private" type="_cohCELFyEeeCH50Lr9AhYw" association="_csqiQbFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crtgBLFyEeeCH50Lr9AhYw" value="new ATokVisitor(new ITokVisitorCmd() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xA;&#x9;&#x9;&#x9;// No dotted modification detected.&#xA;&#x9;&#x9;&#x9;abcT.putBack(host); // put token back to be reprocessed&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// later&#xA;&#x9;&#x9;&#x9;dottedCorrection = 0.0;&#xA;&#x9;&#x9;&#x9;return params[0]; // return duration unchanged.&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;}) {&#xA;&#x9;&#x9;// Initializer block for internal visitor&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;this.addCmd(&quot;&lt;&quot;, new ITokVisitorCmd() {&#xA;&#x9;&#x9;&#x9;&#x9;@Override&#xA;&#x9;&#x9;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// the previous note is halved, the next dotted&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;double duration = (Double) params[0] / 2.0;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;dottedCorrection = duration;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;System.out&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;.println(&quot;Notes parsed \&quot;&quot; + id + &quot;\&quot; dotting.  durationCorrection = &quot; + dottedCorrection);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return duration;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;});&#xA;&#xA;&#x9;&#x9;&#x9;this.addCmd(&quot;>&quot;, new ITokVisitorCmd() {&#xA;&#x9;&#x9;&#x9;&#x9;@Override&#xA;&#x9;&#x9;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// the previous note is dotted, the next note halved&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;double duration = (Double) params[0];&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;dottedCorrection = -duration / 2.0;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;duration -= dottedCorrection;&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;System.out&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;.println(&quot;Notes parsed \&quot;&quot; + id + &quot;\&quot; dotting.  durationCorrection = &quot; + dottedCorrection);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return duration;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;});&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crtgBrFyEeeCH50Lr9AhYw" name="accidentalNotes" visibility="private" type="_coNgELFyEeeCH50Lr9AhYw" association="_csrJULFyEeeCH50Lr9AhYw">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crtgB7FyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crtgCLFyEeeCH50Lr9AhYw" value="new HashSet&lt;Note>()"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csFTe7FyEeeCH50Lr9AhYw" name="popJumpTarget" specification="_cn7zQbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csFTfLFyEeeCH50Lr9AhYw" type="_coCg8LFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>if (jumpTargetStack.isEmpty())
			return beginningTarget;
		else
			return jumpTargetStack.pop();
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6gLFyEeeCH50Lr9AhYw" name="pushJumpTarget" specification="_cqgmIbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6gbFyEeeCH50Lr9AhYw" name="target" type="_coCg8LFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>jumpTargetStack.push(target);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6grFyEeeCH50Lr9AhYw" name="ABCParser" specification="_cn8aULFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6g7FyEeeCH50Lr9AhYw" name="inputFileName">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csF6hLFyEeeCH50Lr9AhYw" type="_cn7zQLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>try {
			abcT = new ABCTokenizer(inputFileName);

			// ------ EOF -----------------------------------------------------
			ITokVisitorCmd eofCmd = new ITokVisitorCmd() {

				@Override
				public Object apply(String id, Token host, Object... params) {
					return MTSeqList.Singleton;
				}
			};

			// ------ Note -----------------------------------------------------
			ITokVisitorCmd noteCmd = new ITokVisitorCmd() {

				@Override
				public Object apply(String id, Token host, Object... params) {
					Note note = makeNote(host);
					System.out.println(&quot;Note parsed: &quot; + note);

					return new NESeqList(note, (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params));
				}
			};

			// ------ Header-------------------------------------------
			// Same command for all headers
			ITokVisitorCmd headerCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					Header header = new Header(id, host.getLexeme());
					System.out.println(&quot;Header parsed: &quot; + header);
					return new NESeqList(header, (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params));
				}
			};

			// ------ Chord----------------------------------------------
			ITokVisitorCmd chordStartCmd = new ITokVisitorCmd() {

				// Internal visitor to get rest of chord
				ATokVisitor makeChordAlgo = new ATokVisitor(new ITokVisitorCmd() {
					@Override
					public Object apply(String id, Token host, Object... params) {
						throw new IllegalArgumentException(&quot;ABCParser.chordCmd: Non-Note token encountered:&quot; + host);
					}

				}) {
					// Initializer block for internal visitor
					{
						this.addCmd(&quot;Note&quot;, new ITokVisitorCmd() {
							@SuppressWarnings(&quot;unchecked&quot;)
							@Override
							public Object apply(String id, Token host, Object... params) {
								Note note = makeNote(host);
								System.out.println(&quot;Chord parsed Note: &quot; + note);
								((Vector&lt;Note>) params[0]).add(note);
								return abcT.getNextToken().execute(makeChordAlgo, params);
							}
						});

						this.addCmd(&quot;]&quot;, new ITokVisitorCmd() {
							@SuppressWarnings(&quot;unchecked&quot;)
							@Override
							public Object apply(String id, Token host, Object... params) {
								Vector&lt;Note> vNotes = (Vector&lt;Note>) params[0];
								Note[] result = new Note[vNotes.size()];
								for (int i = 0; i &lt; vNotes.size(); i++)
									result[i] = vNotes.get(i);
								return result;
							}
						});

					}
				};

				@Override
				public Object apply(String id, Token host, Object... params) {
					Note[] notes = (Note[]) abcT.getNextToken().execute(makeChordAlgo, new Vector&lt;Note>());
					Chord chord = new Chord(notes);
					System.out.println(&quot;Chord parsed: &quot; + chord);
					return new NESeqList(chord, (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params));
				}
			};

			// ------ Grace Note Start---------------------------------------
			ITokVisitorCmd graceStartCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					System.out.println(&quot;Grace Start parsed.&quot;);
					isGrace = true; // Set grace flag on
					// Continue on to next token.
					return abcT.getNextToken().execute(makeSeqListAlgo, params);
				}
			};

			// ------ Grace Note End--------------------------------------------
			ITokVisitorCmd graceEndCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					System.out.println(&quot;Grace End parsed.&quot;);
					isGrace = false; // Set grace flag on
					// Continue on to next token.
					return abcT.getNextToken().execute(makeSeqListAlgo, params);
				}
			};

			// ------ Tuplet----------------------------------------------
			ITokVisitorCmd tupletCmd = new ITokVisitorCmd() {

				// Internal visitor to get rest of chord
				ATokVisitor makeTupletAlgo = new ATokVisitor(new ITokVisitorCmd() {
					@Override
					public Object apply(String id, Token host, Object... params) {
						throw new IllegalArgumentException(&quot;ABCParser.tupletCmd: Non-Note token encountered: &quot; + host);
					}

				}) {
					// Initializer block for internal visitor
					{
						this.addCmd(&quot;Note&quot;, new ITokVisitorCmd() {
							@SuppressWarnings(&quot;unchecked&quot;)
							@Override
							public Object apply(String id, Token host, Object... params) {
								int count = (Integer) params[0];
								Vector&lt;Note> vNotes = ((Vector&lt;Note>) params[1]);

								Note note = makeNote(host);
								System.out.println(&quot;Tuplet parsed Note: &quot; + note + &quot; count = &quot; + count);
								vNotes.add(note);

								if (1 == count) {
									Note[] result = new Note[vNotes.size()];
									for (int i = 0; i &lt; vNotes.size(); i++)
										result[i] = vNotes.get(i);
									return result;
								} else {
									return abcT.getNextToken().execute(makeTupletAlgo, --count, vNotes);
								}
							}
						});

					}
				};

				@Override
				public Object apply(String id, Token host, Object... params) {
					int nNotes = Integer.parseInt(host.getLexeme());

					Note[] notes = (Note[]) abcT.getNextToken().execute(makeTupletAlgo, nNotes, new Vector&lt;Note>());

					NoteCollection result;

					if (3 == nNotes) {
						result = new Triplet(notes[0], notes[1], notes[2]);
					} else {
						result = new Tuplet(notes);
					}
					System.out.println(&quot;Tuplet parsed: &quot; + result);
					return new NESeqList(result, (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params));
				}
			};

			// ------ Measure bar --------------------------------------------
			ITokVisitorCmd measureBarCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					accidentalNotes.clear(); // clear any accidentals
					System.out.println(&quot;Measure bar parsed.  Accidental Notes cleared.&quot;);
					// Continue on to next token.
					return abcT.getNextToken().execute(makeSeqListAlgo, params);
				}
			};

			// ------ Repeat Start -----------------------------------------
			ITokVisitorCmd repeatStartCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					DecoratorSeqList repeatStart = new DecoratorSeqList();
					pushJumpTarget(repeatStart);
					System.out.println(&quot;Repeat Start parsed&quot;);
					ISeqList result = (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params);
					repeatStart.setDecoree(result);
					return result;
				}
			};

			// ------ Repeat End -----------------------------------------
			ITokVisitorCmd repeatEndCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					ISeqList jumpTarget = popJumpTarget();
					System.out.println(&quot;Repeat End parsed&quot;);
					if (jumpSecondRepeatStack.isEmpty()) {
						return new ToggleDecoratorSeqList(jumpTarget,
								(ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params));
					} else {
						abcT.getNextToken().execute(makeSeqListAlgo, params);
						return jumpTarget;
					}
				}
			};

			// ------ First Repeat Start Repeat --------------------------
			ITokVisitorCmd firstRepeatStartCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					DecoratorSeqList secondRepeatStart = new DecoratorSeqList();
					jumpSecondRepeatStack.push(secondRepeatStart);
					System.out.println(&quot;First Repeat Start parsed.  ID = &quot; + id);
					return new ToggleDecoratorSeqList((ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params),
							secondRepeatStart);
				}
			};

			// ------ Second Repeat Start Repeat --------------------------
			ITokVisitorCmd secondRepeatStartCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					DecoratorSeqList secondRepeatStart = jumpSecondRepeatStack.pop();
					System.out.println(&quot;Second Repeat Start parsed.  ID = &quot; + id);
					ISeqList result = (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params);
					secondRepeatStart.setDecoree(result);
					return result;
				}
			};

			// ------ Alt. Second Repeat Start Repeat --------------------------
			/**
			 * This covers the &quot;:|2&quot; token which includes the repeat.
			 */
			ITokVisitorCmd secondRepeatStartAltCmd = new ITokVisitorCmd() {
				@Override
				public Object apply(String id, Token host, Object... params) {
					DecoratorSeqList secondRepeatStart = jumpSecondRepeatStack.pop();
					System.out.println(&quot;Second Repeat Start Alt. parsed.  ID = &quot; + id);
					ISeqList result = (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params);
					secondRepeatStart.setDecoree(result);
					return popJumpTarget();
				}
			};

			// ------ Quote processing --------------------------
			ITokVisitorCmd quoteCmd = new ITokVisitorCmd() {

				FineToggleDecoratorSeqList fineToggle = new FineToggleDecoratorSeqList();

				boolean isSwapped = false;

				@Override
				public Object apply(String id, Token host, Object... params) {
					if (host.getLexeme().equals(&quot;_fine&quot;)) {

						System.out.println(&quot;\&quot;_fine\&quot; parsed&quot;);
						fineToggle.setDecoree(0, (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, params));
						return fineToggle;
					} else if (host.getLexeme().equals(&quot;_D.C al Fine&quot;)) {
						if (isSwapped) {
							System.out.println(&quot;\&quot;_D.C al Fine\&quot; parsed&quot;);
							return new ISeqList() {

								@Override
								public Object execute(IPhraseVisitor algo, Object... params) {
									fineToggle.setFine();
									return beginningTarget.execute(algo, params);
								}
							};
						} else {
							isSwapped = true;
							System.out.println(&quot;\&quot;_D.C al Fine\&quot; parsed, but swapped for next token.&quot;);
							return swapToken(host).execute(makeSeqListAlgo, params);
						}
					} else {
						System.out.println(&quot;Quote parsed - ignored&quot;);
						return abcT.getNextToken().execute(makeSeqListAlgo, params);
					}
				}
			};

			// ---- Add Commands to Visitor------------------------------

			makeSeqListAlgo.addCmd(&quot;EOF&quot;, eofCmd);
			makeSeqListAlgo.addCmd(&quot;Note&quot;, noteCmd);

			String headers = &quot;ABCDEFGHIKLMNOPQRSTWXZ&quot;;
			for (int i = 0; i &lt; headers.length(); i++) {
				makeSeqListAlgo.addCmd(&quot;&quot; + headers.charAt(i), headerCmd);
			}

			makeSeqListAlgo.addCmd(&quot;[&quot;, chordStartCmd);
			makeSeqListAlgo.addCmd(&quot;{&quot;, graceStartCmd);
			makeSeqListAlgo.addCmd(&quot;}&quot;, graceEndCmd);
			makeSeqListAlgo.addCmd(&quot;Tuplet&quot;, tupletCmd);
			makeSeqListAlgo.addCmd(&quot;|&quot;, measureBarCmd);
			makeSeqListAlgo.addCmd(&quot;|:&quot;, repeatStartCmd);
			makeSeqListAlgo.addCmd(&quot;:|&quot;, repeatEndCmd);
			makeSeqListAlgo.addCmd(&quot;|1&quot;, firstRepeatStartCmd);
			makeSeqListAlgo.addCmd(&quot;[1&quot;, firstRepeatStartCmd);
			makeSeqListAlgo.addCmd(&quot;[2&quot;, secondRepeatStartCmd);
			makeSeqListAlgo.addCmd(&quot;|2&quot;, secondRepeatStartCmd);
			makeSeqListAlgo.addCmd(&quot;:|2&quot;, secondRepeatStartAltCmd);
			makeSeqListAlgo.addCmd(&quot;Quote&quot;, quoteCmd);
		} catch (Exception e) {
			System.err.println(&quot;ABCParser constructor exception: &quot; + e);
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6hbFyEeeCH50Lr9AhYw" name="parse" specification="_cn8aVbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6hrFyEeeCH50Lr9AhYw" type="_coIAgLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>ISeqList beginning = (ISeqList) abcT.getNextToken().execute(makeSeqListAlgo, MTSeqList.Singleton);
		beginningTarget.setDecoree(beginning);
		return beginning;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6h7FyEeeCH50Lr9AhYw" name="makeNote" specification="_cqhNMbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6iLFyEeeCH50Lr9AhYw" name="host" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csF6ibFyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>char name = 'C';
		int octave = 0;
		int accidental = 0;
		double duration = 1.0;
		boolean isNatural = false;

		String lex = host.getLexeme();

		// get accidental value
		int i = 0;
		for (; i &lt; lex.length(); i++) {
			if (Character.isLetter(lex.charAt(i))) {
				break;
			}
			if (lex.charAt(i) == '^') {
				accidental += +1;
			} else if (lex.charAt(i) == '_') {
				accidental += -1;
			} else if (lex.charAt(i) == '=') {
				isNatural = true;
			}
		}

		if (Character.isLowerCase(lex.charAt(i))) {
			octave++;
		}
		name = Character.toUpperCase(lex.charAt(i));
		i++;

		// get octave value

		for (; i &lt; lex.length(); i++) {
			if (Character.isDigit(lex.charAt(i)) || '/' == lex.charAt(i)) {
				break;
			}
			if ('\'' == lex.charAt(i))
				octave += +1;
			else if (',' == lex.charAt(i))
				octave += -1;
		}

		if (i &lt; lex.length()) {
			if (Character.isDigit(lex.charAt(i))) {
				int idx = lex.substring(i).indexOf('/');
				if (-1 == idx) {
					duration = Double.parseDouble(lex.substring(i));
				} else if (lex.length() > i + idx + 1) {
					duration = Double.parseDouble(lex.substring(i, i + idx))
							/ Double.parseDouble(lex.substring(i + idx + 1));
				} else {
					duration = Double.parseDouble(lex.substring(i, i + idx)) / 2.0;
				}
			} else {
				i++;
				if (i &lt; lex.length()) {
					duration /= Double.parseDouble(lex.substring(i));
				} else {
					duration /= 2.0; // Slash w/o number is divide by two.
				}
			}
		}

		if (isGrace) {
			duration *= grace_multiplier;
			graceDuration += duration; // sum the duration of the grace notes
		} else if (graceDuration > 0.0) {
			// Correct the length of the current note to get it back on beat.
			duration -= graceDuration;
			graceDuration = 0.0;
		}

		if (dottedCorrection != 0.0) {
			duration += dottedCorrection;
			dottedCorrection = 0.0;
		}

		duration = (Double) abcT.getNextToken().execute(checkNextNoteAlgo, duration);

		Note note = new Note(name, octave, accidental, duration, isNatural);

		if (!isNatural) // naturals always override prior accidentals in measure
			checkAccidentals(note);
		return note;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6irFyEeeCH50Lr9AhYw" name="checkAccidentals" specification="_cqhNNLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6i7FyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>for (Note n : accidentalNotes) {
			if (n.getName() == note.getName() &amp;&amp; n.getOctave() == note.getOctave()) {
				System.out.println(note + &quot; found in accidentals.  Overriding accidentals and isNatural to &quot; + n);
				note.setAccidental(n.getAccidental());
				note.setIsNatural(n.getIsNatural()); // this will override
														// accidentals if true
				return;
			}
		}
		if (note.getAccidental() != 0 || note.getIsNatural()) {
			addAccidental(note);
		}
		return;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6jLFyEeeCH50Lr9AhYw" name="addAccidental" specification="_cqh0QLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6jbFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>removeAccidental(note); // remove anything like this note
		accidentalNotes.add(note); // put this specific note in
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csF6jrFyEeeCH50Lr9AhYw" name="removeAccidental" specification="_cqh0QrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csF6j7FyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>for (Note n : accidentalNotes) {
			if (n.getName() == note.getName() &amp;&amp; n.getOctave() == note.getOctave()) {
				accidentalNotes.remove(n);
				// Check all notes, just to be safe
			}
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csGhkLFyEeeCH50Lr9AhYw" name="swapToken" specification="_cqh0RLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csGhkbFyEeeCH50Lr9AhYw" name="t" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csGhkrFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>Token next = abcT.getNextToken();
		abcT.putBack(t);
		return next;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_cn7zQbFyEeeCH50Lr9AhYw" name="popJumpTarget" visibility="private" method="_csFTe7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csWZObFyEeeCH50Lr9AhYw">
              <body>Pull off the current jump target from the jump target stack. If the stack
	 * is empty, return the proxy for the beginning of the phrase, as this is
	 * the default jump target.
	 * 
	 * @return The current jump target or the beginning of the phrase.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqgmILFyEeeCH50Lr9AhYw" type="_coCg8LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cn8aULFyEeeCH50Lr9AhYw" name="ABCParser" method="_csF6grFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cn8aUrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cn8aU7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csWZO7FyEeeCH50Lr9AhYw">
              <body>Constructs a parser for the given ABC input file.   Does not actually run that parser yet.
	 * Prints error message to System.err if there is a problem opening the given file.   The returned 
	 * parser will be null in the event of an error.
	 * @param inputFileName
	 *            the name of the input text file</body>
            </ownedComment>
            <ownedParameter xmi:id="_cn8aUbFyEeeCH50Lr9AhYw" name="inputFileName">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cn8aVLFyEeeCH50Lr9AhYw" type="_cn7zQLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cn8aVbFyEeeCH50Lr9AhYw" name="parse" method="_csF6hbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csWZPLFyEeeCH50Lr9AhYw">
              <body>
	 * Run the parser and parse the entire file, returning an IPhrase object that represents the entire piece of music.
	 * 
	 * @return An IPhrase object</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqhNMLFyEeeCH50Lr9AhYw" type="_coIAgLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqgmIbFyEeeCH50Lr9AhYw" name="pushJumpTarget" visibility="private" method="_csF6gLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csWZOrFyEeeCH50Lr9AhYw">
              <body>Push the given jump target onto the stack so that it is now the current
	 * jump target. This corresponds to the innermost nested repeat.
	 * 
	 * @param target
	 *            The new current jump target.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqgmIrFyEeeCH50Lr9AhYw" name="target" type="_coCg8LFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqhNMbFyEeeCH50Lr9AhYw" name="makeNote" visibility="private" method="_csF6h7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csWZPbFyEeeCH50Lr9AhYw">
              <body>Parse a Note from the given Token
	 * 
	 * @param host
	 *            The Note token
	 * @return A Note object</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqhNMrFyEeeCH50Lr9AhYw" name="host" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqhNM7FyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqhNNLFyEeeCH50Lr9AhYw" name="checkAccidentals" visibility="private" method="_csF6irFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csWZPrFyEeeCH50Lr9AhYw">
              <body>Checks to see if the given Note is in the set of accidentals Checks name
	 * and octave but not duration or accidental
	 * 
	 * @param note
	 *            The note to check</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqhNNbFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqh0QLFyEeeCH50Lr9AhYw" name="addAccidental" visibility="private" method="_csF6jLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csXnULFyEeeCH50Lr9AhYw">
              <body>Adds a note to the set of accidentals replaces any note with the same
	 * name and octave. duration and accidental are ignored.
	 * 
	 * @param note
	 *            the Note to add.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqh0QbFyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqh0QrFyEeeCH50Lr9AhYw" name="removeAccidental" visibility="private" method="_csF6jrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csXnUbFyEeeCH50Lr9AhYw">
              <body>Removes a note from the set of accidentals Removes any note with the same
	 * name and octave. duration and accidental are ignored.
	 * 
	 * @param note
	 *            the note to remove</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqh0Q7FyEeeCH50Lr9AhYw" name="note" type="_coNgELFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqh0RLFyEeeCH50Lr9AhYw" name="swapToken" visibility="private" method="_csGhkLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csXnUrFyEeeCH50Lr9AhYw">
              <body>Swap the given token for the next token in the tokenizer, returning the
	 * next token. The given token will be the next token out of the tokenizer.
	 * 
	 * @param t The token to be swapped into the tokenizer
	 * @return the token that previously was next in the tokenizer.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqh0RbFyEeeCH50Lr9AhYw" name="t" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqh0RrFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csoGAbFyEeeCH50Lr9AhYw" name="" memberEnd="_csoGArFyEeeCH50Lr9AhYw _crqcsrFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csoGArFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_csoGAbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csotEbFyEeeCH50Lr9AhYw" name="" memberEnd="_csotErFyEeeCH50Lr9AhYw _crqctLFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csotErFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_csotEbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csotFLFyEeeCH50Lr9AhYw" name="" memberEnd="_csotFbFyEeeCH50Lr9AhYw _crrDwbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csotFbFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_csotFLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cspUIbFyEeeCH50Lr9AhYw" name="" memberEnd="_cspUIrFyEeeCH50Lr9AhYw _crrq0bFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cspUIrFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_cspUIbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csp7MbFyEeeCH50Lr9AhYw" name="" memberEnd="_csp7MrFyEeeCH50Lr9AhYw _crsR4rFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csp7MrFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_csp7MbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csqiQbFyEeeCH50Lr9AhYw" name="" memberEnd="_csqiQrFyEeeCH50Lr9AhYw _crtgA7FyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csqiQrFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_csqiQbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csrJULFyEeeCH50Lr9AhYw" name="" memberEnd="_csrJUbFyEeeCH50Lr9AhYw _crtgBrFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csrJUbFyEeeCH50Lr9AhYw" name="" type="_cn7zQLFyEeeCH50Lr9AhYw" association="_csrJULFyEeeCH50Lr9AhYw"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cmb-cbFyEeeCH50Lr9AhYw" name="music">
        <packagedElement xmi:type="uml:Package" xmi:id="_cmclgLFyEeeCH50Lr9AhYw" name="visitor">
          <packagedElement xmi:type="uml:Class" xmi:id="_coZGQLFyEeeCH50Lr9AhYw" name="playerAlgo">
            <ownedComment xmi:id="_csZci7FyEeeCH50Lr9AhYw">
              <body>@author Yiqing Lu
@author Alexander Hansen
Create the playerAlgo class extend APhraseVisitor
The playerAlgo installs commands to handle all of those hosts.</body>
            </ownedComment>
            <generalization xmi:id="_cqv2sbFyEeeCH50Lr9AhYw" general="_cn_doLFyEeeCH50Lr9AhYw"/>
            <ownedAttribute xmi:id="_cr0NsbFyEeeCH50Lr9AhYw" name="key_signature" visibility="private" type="_cowSoLFyEeeCH50Lr9AhYw" association="_csuMobFyEeeCH50Lr9AhYw"/>
            <ownedAttribute xmi:id="_cr0Ns7FyEeeCH50Lr9AhYw" name="sp" visibility="private" type="_cozV8LFyEeeCH50Lr9AhYw" association="_csuzsbFyEeeCH50Lr9AhYw"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMoMrFyEeeCH50Lr9AhYw" name="playerAlgo" specification="_coZGQbFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csMoM7FyEeeCH50Lr9AhYw" type="_coZGQLFyEeeCH50Lr9AhYw" direction="return"/>
              <language>java</language>
              <body>/*
		 * install commands to deal with headers you do not care about
		 */
		String headerString = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;
		for (int i = 0; i &lt; headerString.length(); i++) {
			this.addCmd(&quot;&quot; + headerString.charAt(i), new IPhraseVisitorCmd() {
				public Object apply(String id, IPhrase host, Object... params) {
					return params[1];
				}
			});
		}

		/*
		 * install commands to deal with &quot;L&quot; header
		 */
		this.addCmd(&quot;L&quot;, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				Header head = (Header) host;
				sp = (SequencePlayer2) params[0];
				double defaultLengthPerNote = ABCUtil.Singleton.parseFraction(head.getValue());
				double ticks = 64 * defaultLengthPerNote;
				sp.setTicksPerDefaultNote((int) ticks);
				return params[1];
			}
		});

		/*
		 * install commands to deal with &quot;K&quot; header
		 */
		this.addCmd(&quot;K&quot;, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				Header head = (Header) host;
				key_signature = new KeySignature(head.getValue());
				return params[1];
			}
		});

		/*
		 * install commands to deal with &quot;Q&quot; header
		 */
		this.addCmd(&quot;Q&quot;, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				Header head = (Header) host;
				sp = (SequencePlayer2) params[0];
				double tempo = ABCUtil.Singleton.parseTempo(head.getValue(),
						1.0 * sp.getTicksPerQuarterNote() / sp.getTicksPerDefaultNote());
				sp.setTempo((int) tempo);
				return params[1];
			}
		});

		/*
		 * install commands to deal with Chord
		 */
		this.addCmd(Chord.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				Chord chord = (Chord) host;
				sp = (SequencePlayer2) params[0];
				int param = (int) params[1];
				for (Note temp_note : chord.getNotes()) {
					param = (int) temp_note.execute(playerAlgo.this, params);
				}
				return param;
			}
		});
		/*
		 * install commands to deal with Triplet
		 */
		this.addCmd(Triplet.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				Triplet triplet = (Triplet) host;
				sp = (SequencePlayer2) params[0];
				int param = (int) params[1];
				for (Note temp_note : triplet.getNotes()) {
					temp_note.setDuration(temp_note.getDuration() * 2.0 / 3);
					param = (int) temp_note.execute(playerAlgo.this, params);
				}
				return param;
			}
		});

		/*
		 * install commands to deal with Note
		 */
		this.addCmd(Note.ID, new IPhraseVisitorCmd() {

			public Object apply(String id, IPhrase host, Object... params) {
				sp = (SequencePlayer2) params[0];
				Note note = (Note) host;
				if (key_signature != null) {
					note = key_signature.adjust(note);
				}
				return sp.addNote(note, (int) params[1]);
			}
		});

		/*
		 * install commands to deal with non-empty sequence list
		 */
		this.addCmd(NESeqList.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				NESeqList ne_list = (NESeqList) host;
				int param = (int) ne_list.getFirst().execute(playerAlgo.this, params);
				return ne_list.getRest().execute(playerAlgo.this, params[0], param);
			}
		});

		/*
		 * install commands to deal with empty sequence list
		 */
		this.addCmd(MTSeqList.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				return params[1];
			}
		});

	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_coZGQbFyEeeCH50Lr9AhYw" name="playerAlgo" method="_csMoMrFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_coZGQrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_coZtULFyEeeCH50Lr9AhYw" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_csZcjLFyEeeCH50Lr9AhYw">
                <body>Constructor for playerAlgo.</body>
              </ownedComment>
              <ownedParameter xmi:id="_coZtUbFyEeeCH50Lr9AhYw" type="_coZGQLFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_coZtUrFyEeeCH50Lr9AhYw" name="toStringAlgo">
            <ownedComment xmi:id="_csZcjbFyEeeCH50Lr9AhYw">
              <body>@author Yiqing Lu
@author Alexander Hansen
Create the toStringAlgo class extend APhraseVisitor
The toStringAlgo provides the recursive forward accumulating helper (inner) algorithm.
It helps to represents the music. All the elements are divided by commas, and the parenthesis
holds these elements.</body>
            </ownedComment>
            <generalization xmi:id="_cqwdwLFyEeeCH50Lr9AhYw" general="_cn_doLFyEeeCH50Lr9AhYw"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMoNLFyEeeCH50Lr9AhYw" name="toStringAlgo" specification="_coaUYLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csMoNbFyEeeCH50Lr9AhYw" type="_coZtUrFyEeeCH50Lr9AhYw" direction="return"/>
              <language>java</language>
              <body>/*
		 * install commands to deal with non-empty sequence list
		 */
		this.addCmd(NESeqList.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				NESeqList ne_list = (NESeqList) host;
				NESeqList.setToStringAlgo(toStringAlgo.this);
				return ne_list.getRest().execute(NESeqList.getToStringAlgo(), params[0] + &quot;,&quot; + ne_list.getFirst());
			}
		});

		/*
		 * install commands to deal with empty sequence list
		 */
		this.addCmd(MTSeqList.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				return params[0] + &quot;}&quot;;
			}
		});

	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_coaUYLFyEeeCH50Lr9AhYw" name="toStringAlgo" method="_csMoNLFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_coaUYbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_coaUYrFyEeeCH50Lr9AhYw" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_coaUY7FyEeeCH50Lr9AhYw" type="_coZtUrFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csuMobFyEeeCH50Lr9AhYw" name="" memberEnd="_csuMorFyEeeCH50Lr9AhYw _cr0NsbFyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csuMorFyEeeCH50Lr9AhYw" name="" type="_coZGQLFyEeeCH50Lr9AhYw" association="_csuMobFyEeeCH50Lr9AhYw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csuzsbFyEeeCH50Lr9AhYw" name="" memberEnd="_csuzsrFyEeeCH50Lr9AhYw _cr0Ns7FyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csuzsrFyEeeCH50Lr9AhYw" name="" type="_coZGQLFyEeeCH50Lr9AhYw" association="_csuzsbFyEeeCH50Lr9AhYw"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cn_doLFyEeeCH50Lr9AhYw" name="APhraseVisitor" isAbstract="true">
          <ownedComment xmi:id="_csXnU7FyEeeCH50Lr9AhYw">
            <body>Command-based implementation of IPhraseVisitor that uses IPhraseVisitorCmds stored in a hash table.
@author swong
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cruHEbFyEeeCH50Lr9AhYw" name="defaultCmd" visibility="private" type="_coJOoLFyEeeCH50Lr9AhYw" association="_csrJU7FyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cruHE7FyEeeCH50Lr9AhYw" name="cmds" visibility="private" type="_coJOoLFyEeeCH50Lr9AhYw" association="_csrwYbFyEeeCH50Lr9AhYw">
            <qualifier xmi:id="_cruuILFyEeeCH50Lr9AhYw">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </qualifier>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cruHFLFyEeeCH50Lr9AhYw" value="new Hashtable&lt;String, IPhraseVisitorCmd>()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqjpcbFyEeeCH50Lr9AhYw" client="_cn_doLFyEeeCH50Lr9AhYw" supplier="_coInkLFyEeeCH50Lr9AhYw" contract="_coInkLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csGhk7FyEeeCH50Lr9AhYw" name="APhraseVisitor" specification="_cn_dobFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csGhlLFyEeeCH50Lr9AhYw" type="_cn_doLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>defaultCmd = new IPhraseVisitorCmd() {
			public Object apply(String idx, IPhrase host, Object... inps) {
				throw new IllegalArgumentException(&quot;APhraseVisitor: Unknown index encountered: &quot; + idx);
			}
		};
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csGhlbFyEeeCH50Lr9AhYw" name="APhraseVisitor" specification="_cqjpcrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csGhlrFyEeeCH50Lr9AhYw" name="defaultCmd" type="_coJOoLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csGhl7FyEeeCH50Lr9AhYw" type="_cn_doLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>this.defaultCmd = defaultCmd;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csGhmLFyEeeCH50Lr9AhYw" name="caseAt" specification="_crNJsbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csGhmbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csGhmrFyEeeCH50Lr9AhYw" name="host" type="_coIAgLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csGhm7FyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csGhnLFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csGhnbFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>if (cmds.containsKey(id)) {
			return cmds.get(id).apply(id, host, params);
		} else {
			return defaultCmd.apply(id, host, params);
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csGhnrFyEeeCH50Lr9AhYw" name="addCmd" specification="_cqkQhLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csGhn7FyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csGhoLFyEeeCH50Lr9AhYw" name="cmd" type="_coJOoLFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>cmds.put(id, cmd);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_cn_dobFyEeeCH50Lr9AhYw" name="APhraseVisitor" method="_csGhk7FyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coAEsLFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coAEsbFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csYOYLFyEeeCH50Lr9AhYw">
              <body>Constructor that installs a default cmd that throws an IllegalArgumentException on any unknown host.</body>
            </ownedComment>
            <ownedComment xmi:id="_csYOYbFyEeeCH50Lr9AhYw">
              <body>Abstract extended visitor implementation that uses a dictionary of commands to associate commands with host IDs.</body>
            </ownedComment>
            <ownedParameter xmi:id="_coAEsrFyEeeCH50Lr9AhYw" type="_cn_doLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqjpcrFyEeeCH50Lr9AhYw" name="APhraseVisitor" method="_csGhlbFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqkQgbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqkQgrFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csYOYrFyEeeCH50Lr9AhYw">
              <body>Constructor that sets the default cmd to the supplied cmd.
	 * @param defaultCmd   the default cmd to use.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqkQgLFyEeeCH50Lr9AhYw" name="defaultCmd" type="_coJOoLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqkQg7FyEeeCH50Lr9AhYw" type="_cn_doLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqkQhLFyEeeCH50Lr9AhYw" name="addCmd" method="_csGhnrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csYOY7FyEeeCH50Lr9AhYw">
              <body>Add the given command to the dictionary, associated with the given id value.
	 * @param id The id of the host that will use this command
	 * @param cmd The command that will be run when the host calls for it.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqkQhbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqkQhrFyEeeCH50Lr9AhYw" name="cmd" type="_coJOoLFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crNJsbFyEeeCH50Lr9AhYw" name="caseAt" method="_csGhmLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crNJsrFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crNJs7FyEeeCH50Lr9AhYw" name="host" type="_coIAgLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crNJtLFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crNwwLFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crNJtbFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coBS0LFyEeeCH50Lr9AhYw" name="Chord">
          <ownedComment xmi:id="_csYOZLFyEeeCH50Lr9AhYw">
            <body>A collection of notes that make up a Chord.  All of the notes should
be played simultaneously.   The last note defines the length of all the notes.</body>
          </ownedComment>
          <ownedComment xmi:id="_csYOZbFyEeeCH50Lr9AhYw">
            <body>A collection of Notes all played at once</body>
          </ownedComment>
          <generalization xmi:id="_cqlepLFyEeeCH50Lr9AhYw" general="_coQjYLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cruuIbFyEeeCH50Lr9AhYw" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cruuIrFyEeeCH50Lr9AhYw" value="&quot;Chord&quot;"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csGhobFyEeeCH50Lr9AhYw" name="Chord" specification="_cqk3kLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csGhorFyEeeCH50Lr9AhYw" name="notes" type="_coNgELFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csGho7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csGhpLFyEeeCH50Lr9AhYw" type="_coBS0LFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>super(notes);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHIoLFyEeeCH50Lr9AhYw" name="execute" specification="_crNwwrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHIobFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csHIorFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csHIo7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csHIpLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHIpbFyEeeCH50Lr9AhYw" name="toString" specification="_coB54LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHIprFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String result = &quot;Chord(&quot; + notes[0];
		for (int i = 1; i &lt; notes.length; i++) {
			result += &quot;, &quot; + notes[i];
		}
		return result + &quot;)&quot;;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coB54LFyEeeCH50Lr9AhYw" name="toString" method="_csHIpbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_coB54bFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqk3kLFyEeeCH50Lr9AhYw" name="Chord" method="_csGhobFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqk3krFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqk3k7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cqk3kbFyEeeCH50Lr9AhYw" name="notes" type="_coNgELFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cqleorFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqleobFyEeeCH50Lr9AhYw" type="_coBS0LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crNwwrFyEeeCH50Lr9AhYw" name="execute" method="_csHIoLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crOX0LFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crOX0bFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crOX1LFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crOX0rFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coCg8LFyEeeCH50Lr9AhYw" name="DecoratorSeqList">
          <ownedComment xmi:id="_csYOZrFyEeeCH50Lr9AhYw">
            <body>An ISeqList that transparently routes the visitor execution to its decoree.  
This class is primarily used to provide a placeholder when a the music should flow 
to a specific point in the sequence but that point has not yet been calculated, as occurs
for instance, during the processing of repeats.    When that target point is finally calculated, 
the decoree can be set and the decorated target will behave identically to the target.
This decorator can also be used to dynamically change the flow of the music by changing the target.  
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_csYOZ7FyEeeCH50Lr9AhYw">
            <body>Decorated ISeqList used as a transparent proxy placeholder.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cruuI7FyEeeCH50Lr9AhYw" name="decoree" visibility="private" type="_coJ1sLFyEeeCH50Lr9AhYw" association="_csrwZLFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cruuJLFyEeeCH50Lr9AhYw" value="MTSeqList.Singleton"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqmFsLFyEeeCH50Lr9AhYw" client="_coCg8LFyEeeCH50Lr9AhYw" supplier="_coJ1sLFyEeeCH50Lr9AhYw" contract="_coJ1sLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHIp7FyEeeCH50Lr9AhYw" name="DecoratorSeqList" specification="_cqmFsbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHIqLFyEeeCH50Lr9AhYw" name="decoree" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csHIqbFyEeeCH50Lr9AhYw" type="_coCg8LFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>setDecoree(decoree);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHIqrFyEeeCH50Lr9AhYw" name="setDecoree" specification="_cqmFtrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHIq7FyEeeCH50Lr9AhYw" name="decoree" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>this.decoree = decoree;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHIrLFyEeeCH50Lr9AhYw" name="execute" specification="_crO-4LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHIrbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csHIrrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csHIr7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csHIsLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return decoree.execute(algo, params);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coDIALFyEeeCH50Lr9AhYw" name="DecoratorSeqList">
            <eAnnotations xmi:id="_coDIAbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coDIArFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_coDIBLFyEeeCH50Lr9AhYw" type="_coCg8LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqmFsbFyEeeCH50Lr9AhYw" name="DecoratorSeqList" method="_csHIp7FyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqmFs7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqmFtLFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csYOaLFyEeeCH50Lr9AhYw">
              <body>Constructor used to set the decoree to a known value at construction time.
	 * @param decoree The decoree phrase sequence</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqmFsrFyEeeCH50Lr9AhYw" name="decoree" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqmFtbFyEeeCH50Lr9AhYw" type="_coCg8LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqmFtrFyEeeCH50Lr9AhYw" name="setDecoree" method="_csHIqrFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csYOabFyEeeCH50Lr9AhYw">
              <body>Setter methods used to set the decoree.
	 * @param decoree  The new decoree ISeqList.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqmFt7FyEeeCH50Lr9AhYw" name="decoree" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crO-4LFyEeeCH50Lr9AhYw" name="execute" method="_csHIrLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crO-4bFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crO-4rFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crO-5bFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crO-47FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coEWILFyEeeCH50Lr9AhYw" name="FineToggleDecoratorSeqList">
          <ownedComment xmi:id="_csYOarFyEeeCH50Lr9AhYw">
            <body>The class is used to implement &quot;Da Capo al fine&quot; or &quot;D.C. al fine&quot;, 
which is to repeat from the beginning up to the &quot;fine&quot; marker.

this class assumes that only two target decorees are ever used.

The is ToggleDecoratorSeqList that can be signaled to switch to the 
another target.   Be default, the target decoree (#0) remains the same even 
when it is accessed.  But after setFine() is called, the target decoree
is switched to the #1 decoree (the &quot;fine&quot; target, usually an MTSeqList because
it is the end of the piece).   After the #1 decoree is used, the target
decoree is advanced to the next available decoree, which , for two decorees, 
would be back to the #0 decoree.  The class returns to default behavior then.
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_csYOa7FyEeeCH50Lr9AhYw">
            <body>ToggleDecoratorSeqList with controllable cycling</body>
          </ownedComment>
          <generalization xmi:id="_cqnT1LFyEeeCH50Lr9AhYw" general="_coSYkLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_crvVMbFyEeeCH50Lr9AhYw" name="isFine" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crvVMrFyEeeCH50Lr9AhYw" value="false"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHIsbFyEeeCH50Lr9AhYw" name="FineToggleDecoratorSeqList" specification="_coEWIbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHIsrFyEeeCH50Lr9AhYw" type="_coEWILFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>super();
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHvsLFyEeeCH50Lr9AhYw" name="FineToggleDecoratorSeqList" specification="_cqmswLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHvsbFyEeeCH50Lr9AhYw" name="decorees" type="_coJ1sLFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csHvsrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csHvs7FyEeeCH50Lr9AhYw" type="_coEWILFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>super(decorees);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHvtLFyEeeCH50Lr9AhYw" name="setFine" specification="_coEWJbFyEeeCH50Lr9AhYw">
            <language>java</language>
            <body>this.isFine = true;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHvtbFyEeeCH50Lr9AhYw" name="execute" specification="_crPl8rFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHvtrFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csHvt7FyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csHvuLFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csHvubFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>if (isFine) {
			isFine = false;
			this.setTargetToDecoree(1);
			return super.execute(algo, params);
		} else
			return getTargetDecoree().execute(algo, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHvurFyEeeCH50Lr9AhYw" name="toString" specification="_coE9MLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHvu7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return (String) this.execute(NESeqList.getToStringAlgo(), &quot;{&quot;);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coEWIbFyEeeCH50Lr9AhYw" name="FineToggleDecoratorSeqList" method="_csHIsbFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coEWIrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coEWI7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csYObLFyEeeCH50Lr9AhYw">
              <body>Instantiates the class with two MTSeqList decorees.</body>
            </ownedComment>
            <ownedParameter xmi:id="_coEWJLFyEeeCH50Lr9AhYw" type="_coEWILFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coEWJbFyEeeCH50Lr9AhYw" name="setFine" method="_csHvtLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csYObbFyEeeCH50Lr9AhYw">
              <body>Sets the system to use the &quot;fine&quot; decorator at the next execution.</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:id="_coE9MLFyEeeCH50Lr9AhYw" name="toString" method="_csHvurFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_coE9MbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqmswLFyEeeCH50Lr9AhYw" name="FineToggleDecoratorSeqList" method="_csHvsLFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqmswrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqmsw7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cqmswbFyEeeCH50Lr9AhYw" name="decorees" type="_coJ1sLFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cqnT0rFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqnT0bFyEeeCH50Lr9AhYw" type="_coEWILFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crPl8rFyEeeCH50Lr9AhYw" name="execute" method="_csHvtbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crPl87FyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crPl9LFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crQNALFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crPl9bFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coGLULFyEeeCH50Lr9AhYw" name="Header">
          <ownedComment xmi:id="_csYObrFyEeeCH50Lr9AhYw">
            <body>An abc Header.  Headers are identified by a one character &quot;id&quot; and
can have an arbitrary string value. 
Note that this class represents many different *types* of headers, 
each with its own id value.</body>
          </ownedComment>
          <ownedComment xmi:id="_csYOb7FyEeeCH50Lr9AhYw">
            <body>A single Header class represents multiple, distinct header hosts.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_crv8QLFyEeeCH50Lr9AhYw" name="_id" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crv8QrFyEeeCH50Lr9AhYw" name="_value" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqn64LFyEeeCH50Lr9AhYw" client="_coGLULFyEeeCH50Lr9AhYw" supplier="_coIAgLFyEeeCH50Lr9AhYw" contract="_coIAgLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csHvvLFyEeeCH50Lr9AhYw" name="Header" specification="_coGLUbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csHvvbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csHvvrFyEeeCH50Lr9AhYw" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csHvv7FyEeeCH50Lr9AhYw" type="_coGLULFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
            </ownedParameter>
            <language>java</language>
            <body>_id = id;
		_value = value;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csIWwLFyEeeCH50Lr9AhYw" name="execute" specification="_crQ0ELFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csIWwbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csIWwrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csIWw7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csIWxLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
            </ownedParameter>
            <language>java</language>
            <body>return algo.caseAt(_id, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csIWxbFyEeeCH50Lr9AhYw" name="getID" specification="_coGyY7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csIWxrFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _id;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csIWx7FyEeeCH50Lr9AhYw" name="getValue" specification="_coGyZbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csIWyLFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _value;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csIWybFyEeeCH50Lr9AhYw" name="toString" specification="_coGyZ7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csIWyrFyEeeCH50Lr9AhYw" direction="return">
              <name xsi:nil="true"/>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _id + &quot;:&quot; + _value;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coGLUbFyEeeCH50Lr9AhYw" name="Header" method="_csHvvLFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coGyYLFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coGyYbFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csYOcLFyEeeCH50Lr9AhYw">
              <body>Create a header out of an id and value
	 * 
	 * @param id    - one character corresponding to the abc header name
	 * @param value - arbitrary string value of the header</body>
            </ownedComment>
            <ownedParameter xmi:id="_coGLUrFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coGLU7FyEeeCH50Lr9AhYw" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coGyYrFyEeeCH50Lr9AhYw" type="_coGLULFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coGyY7FyEeeCH50Lr9AhYw" name="getID" method="_csIWxbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csYOcbFyEeeCH50Lr9AhYw">
              <body>Accessor for the id.
	 * @return the _id</body>
            </ownedComment>
            <ownedParameter xmi:id="_coGyZLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coGyZbFyEeeCH50Lr9AhYw" name="getValue" method="_csIWx7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csYOcrFyEeeCH50Lr9AhYw">
              <body>Accessor for the text value of this header.
	 * @return the _value</body>
            </ownedComment>
            <ownedParameter xmi:id="_coGyZrFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coGyZ7FyEeeCH50Lr9AhYw" name="toString" method="_csIWybFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csYOc7FyEeeCH50Lr9AhYw">
              <body>String representation of this header: &quot;id: text&quot;</body>
            </ownedComment>
            <ownedParameter xmi:id="_coGyaLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_crQ0ELFyEeeCH50Lr9AhYw" name="execute" method="_csIWwLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crQ0EbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crQ0ErFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crQ0FbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crQ0E7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coHZcLFyEeeCH50Lr9AhYw" name="INote">
          <ownedComment xmi:id="_csYOdLFyEeeCH50Lr9AhYw">
            <body>Note interface for Notes and collections of Notes.</body>
          </ownedComment>
          <ownedComment xmi:id="_csYOdbFyEeeCH50Lr9AhYw">
            <body>A generalized notion of a note</body>
          </ownedComment>
          <generalization xmi:id="_cqoh8LFyEeeCH50Lr9AhYw" general="_coIAgLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coIAgLFyEeeCH50Lr9AhYw" name="IPhrase">
          <ownedComment xmi:id="_csY1cLFyEeeCH50Lr9AhYw">
            <body>Top level of a piece of abc music.  The generalized notion of a playable piece of music.</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1cbFyEeeCH50Lr9AhYw">
            <body>Abstract Host
Each concrete host calls its associated case on the visitor.</body>
          </ownedComment>
          <ownedOperation xmi:id="_crRbILFyEeeCH50Lr9AhYw" name="execute">
            <ownedParameter xmi:id="_crRbIbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crRbIrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crRbJbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crRbI7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coInkLFyEeeCH50Lr9AhYw" name="IPhraseVisitor">
          <ownedComment xmi:id="_csY1crFyEeeCH50Lr9AhYw">
            <body>Interface for a Phrase visitor.</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1c7FyEeeCH50Lr9AhYw">
            <body>Abstract extended visitor.
Supplies case behavior for every host.</body>
          </ownedComment>
          <ownedOperation xmi:id="_crSCMbFyEeeCH50Lr9AhYw" name="caseAt">
            <ownedParameter xmi:id="_crSCMrFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crSCM7FyEeeCH50Lr9AhYw" name="host" type="_coIAgLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crSCNLFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crSCN7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crSCNbFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coJOoLFyEeeCH50Lr9AhYw" name="IPhraseVisitorCmd">
          <ownedComment xmi:id="_csY1dLFyEeeCH50Lr9AhYw">
            <body>The command used by APhraseVisitor that is associated with a host or hosts.
@author rixner</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1dbFyEeeCH50Lr9AhYw">
            <body>Abstract command used by APhraseVisitor.  Each command is associated with a particular host(s).</body>
          </ownedComment>
          <ownedOperation xmi:id="_crSpQLFyEeeCH50Lr9AhYw" name="apply">
            <ownedParameter xmi:id="_crSpQbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crSpQrFyEeeCH50Lr9AhYw" name="host" type="_coIAgLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crSpQ7FyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crSpRrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crSpRLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coJ1sLFyEeeCH50Lr9AhYw" name="ISeqList">
          <ownedComment xmi:id="_csY1drFyEeeCH50Lr9AhYw">
            <body>Interface for sequential lists of IPhrases.</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1d7FyEeeCH50Lr9AhYw">
            <body>A list of IPhrases
e.g. an ordered sequence of Notes.</body>
          </ownedComment>
          <generalization xmi:id="_cqpJALFyEeeCH50Lr9AhYw" general="_coIAgLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coJ1sbFyEeeCH50Lr9AhYw" name="MTSeqList">
          <ownedComment xmi:id="_csY1eLFyEeeCH50Lr9AhYw">
            <body>An empty sequence list.</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1ebFyEeeCH50Lr9AhYw">
            <body>An empty ISeqList</body>
          </ownedComment>
          <ownedAttribute xmi:id="_crv8RLFyEeeCH50Lr9AhYw" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crwjULFyEeeCH50Lr9AhYw" value="&quot;MTSeqList&quot;"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crwjUbFyEeeCH50Lr9AhYw" name="Singleton" isLeaf="true" isStatic="true" type="_coJ1sbFyEeeCH50Lr9AhYw" isReadOnly="true" association="_cssXcrFyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crwjUrFyEeeCH50Lr9AhYw" value="new MTSeqList()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqpJAbFyEeeCH50Lr9AhYw" client="_coJ1sbFyEeeCH50Lr9AhYw" supplier="_coJ1sLFyEeeCH50Lr9AhYw" contract="_coJ1sLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csIWy7FyEeeCH50Lr9AhYw" name="execute" specification="_crTQULFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csIWzLFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csIWzbFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csIWzrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csIWz7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csI90LFyEeeCH50Lr9AhYw" name="toString" specification="_coLD0LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csI90bFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return &quot;{}&quot;;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coKcwLFyEeeCH50Lr9AhYw" name="MTSeqList" visibility="private">
            <eAnnotations xmi:id="_coKcwbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coKcwrFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_coKcxLFyEeeCH50Lr9AhYw" type="_coJ1sbFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coLD0LFyEeeCH50Lr9AhYw" name="toString" method="_csI90LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_coLD0bFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_crTQULFyEeeCH50Lr9AhYw" name="execute" method="_csIWy7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crTQUbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crTQUrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crTQVbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crTQU7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coLq4LFyEeeCH50Lr9AhYw" name="NESeqList">
          <ownedComment xmi:id="_csY1erFyEeeCH50Lr9AhYw">
            <body>A non-empty (&quot;cons&quot;) sequence list.</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1e7FyEeeCH50Lr9AhYw">
            <body>A non-empty ISeqList</body>
          </ownedComment>
          <ownedAttribute xmi:id="_crwjU7FyEeeCH50Lr9AhYw" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crwjVLFyEeeCH50Lr9AhYw" value="&quot;NESeqList&quot;"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crwjVbFyEeeCH50Lr9AhYw" name="_first" visibility="private" type="_coIAgLFyEeeCH50Lr9AhYw" association="_cssXdbFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_crwjV7FyEeeCH50Lr9AhYw" name="_rest" visibility="private" type="_coJ1sLFyEeeCH50Lr9AhYw" association="_css-gbFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_crxKYbFyEeeCH50Lr9AhYw" name="_toStringAlgo" visibility="private" isStatic="true" type="_coInkLFyEeeCH50Lr9AhYw" association="_css-hLFyEeeCH50Lr9AhYw"/>
          <interfaceRealization xmi:id="_cqpwELFyEeeCH50Lr9AhYw" client="_coLq4LFyEeeCH50Lr9AhYw" supplier="_coJ1sLFyEeeCH50Lr9AhYw" contract="_coJ1sLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csI90rFyEeeCH50Lr9AhYw" name="NESeqList" specification="_cqpwEbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csI907FyEeeCH50Lr9AhYw" name="first" type="_coIAgLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csI91LFyEeeCH50Lr9AhYw" name="rest" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csI91bFyEeeCH50Lr9AhYw" type="_coLq4LFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>this._rest = rest;
		this._first = first;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csI91rFyEeeCH50Lr9AhYw" name="getFirst" specification="_coMR8LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csI917FyEeeCH50Lr9AhYw" type="_coIAgLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return _first;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csI92LFyEeeCH50Lr9AhYw" name="getRest" specification="_coMR8bFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csI92bFyEeeCH50Lr9AhYw" type="_coJ1sLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return _rest;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csI92rFyEeeCH50Lr9AhYw" name="execute" specification="_crT3YrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csI927FyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csI93LFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csI93bFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csI93rFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csJk4LFyEeeCH50Lr9AhYw" name="setToStringAlgo" specification="_cqqXILFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csJk4bFyEeeCH50Lr9AhYw" name="stringAlgo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>_toStringAlgo = stringAlgo;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csJk4rFyEeeCH50Lr9AhYw" name="getToStringAlgo" specification="_coMR8rFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csJk47FyEeeCH50Lr9AhYw" type="_coInkLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return _toStringAlgo;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csJk5LFyEeeCH50Lr9AhYw" name="toString" specification="_coMR87FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csJk5bFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return (String) _rest.execute(_toStringAlgo, &quot;{&quot; + _first.toString());
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coMR8LFyEeeCH50Lr9AhYw" name="getFirst" method="_csI91rFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1fbFyEeeCH50Lr9AhYw">
              <body>Accessor method for the first element
	 * @return the IPhrase that is the first element of the sequence list</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqpwF7FyEeeCH50Lr9AhYw" type="_coIAgLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coMR8bFyEeeCH50Lr9AhYw" name="getRest" method="_csI92LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1frFyEeeCH50Lr9AhYw">
              <body>Accessor method for the rest of the lsit
	 * @return the rest of the sequence list</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqpwGLFyEeeCH50Lr9AhYw" type="_coJ1sLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coMR8rFyEeeCH50Lr9AhYw" name="getToStringAlgo" isStatic="true" method="_csJk4rFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1gLFyEeeCH50Lr9AhYw">
              <body>Getter for the _toStringAlgo helper.  Only for use internally inside this package
	 * so ToggleDecoratorSeqList and FineToggleDecoratorSeqList can use the same visitor.
	 * @return the toStringAlgo helper visitor</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqqXIrFyEeeCH50Lr9AhYw" type="_coInkLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coMR87FyEeeCH50Lr9AhYw" name="toString" method="_csJk5LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1gbFyEeeCH50Lr9AhYw">
              <body>Run a visitor over the list to convert it to a String.  
	 * Delegates to the rest of the list using the helper algo, with the accumulator 
	 * (params[0]) set to &quot;{&quot;+_first.toString().  
	 * @return &quot;{a, b, c, d}&quot;</body>
            </ownedComment>
            <ownedParameter xmi:id="_coM5ALFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqpwEbFyEeeCH50Lr9AhYw" name="NESeqList" method="_csI90rFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqpwFLFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqpwFbFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csY1fLFyEeeCH50Lr9AhYw">
              <body>Cons an IPhrase to a Sequence List.
	 * @param first The first element of the sequence
	 * @param rest The rest of the sequence</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqpwErFyEeeCH50Lr9AhYw" name="first" type="_coIAgLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqpwE7FyEeeCH50Lr9AhYw" name="rest" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqpwFrFyEeeCH50Lr9AhYw" type="_coLq4LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqqXILFyEeeCH50Lr9AhYw" name="setToStringAlgo" isStatic="true" method="_csJk4LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1f7FyEeeCH50Lr9AhYw">
              <body>Setter for the _toStringAlgo helper.  This non-typical method is provided solely 
	 * for the purpose of enabling the student to install their toStringAlgo into the 
	 * read-only provided code.
	 * @param stringAlgo The helper algo to use.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqqXIbFyEeeCH50Lr9AhYw" name="stringAlgo" type="_coInkLFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crT3YrFyEeeCH50Lr9AhYw" name="execute" method="_csI92rFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crT3Y7FyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crT3ZLFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crUecbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crT3ZbFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coNgELFyEeeCH50Lr9AhYw" name="Note">
          <ownedComment xmi:id="_csY1grFyEeeCH50Lr9AhYw">
            <body>Basic class representing musical Notes.</body>
          </ownedComment>
          <ownedComment xmi:id="_csY1g7FyEeeCH50Lr9AhYw">
            <body>A playable note or rest.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_crxKY7FyEeeCH50Lr9AhYw" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crxxcLFyEeeCH50Lr9AhYw" value="&quot;Note&quot;"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crxxcbFyEeeCH50Lr9AhYw" name="name" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crxxcrFyEeeCH50Lr9AhYw" value="'Z'"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crxxc7FyEeeCH50Lr9AhYw" name="octave">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crxxdLFyEeeCH50Lr9AhYw" value="0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crxxdbFyEeeCH50Lr9AhYw" name="accidental" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crxxdrFyEeeCH50Lr9AhYw" value="0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cryYgLFyEeeCH50Lr9AhYw" name="duration">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cryYgbFyEeeCH50Lr9AhYw" value="0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cryYgrFyEeeCH50Lr9AhYw" name="isNatural" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cryYg7FyEeeCH50Lr9AhYw" value="false"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqq-MLFyEeeCH50Lr9AhYw" client="_coNgELFyEeeCH50Lr9AhYw" supplier="_coHZcLFyEeeCH50Lr9AhYw" contract="_coHZcLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csJk5rFyEeeCH50Lr9AhYw" name="Note" specification="_coOHILFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csJk57FyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csJk6LFyEeeCH50Lr9AhYw" name="octave">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csJk6bFyEeeCH50Lr9AhYw" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csJk6rFyEeeCH50Lr9AhYw" name="duration">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csJk67FyEeeCH50Lr9AhYw" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csJk7LFyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>setName(name);
		setOctave(octave);
		setAccidental(accidental);
		setDuration(duration);
		setIsNatural(isNatural);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKL8LFyEeeCH50Lr9AhYw" name="toString" specification="_coOuNrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKL8bFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String s = &quot;(&quot;;
		s += Character.toString(name);
		int a = accidental;
		if (isNatural) {
			s += &quot;n&quot;;
		}
		while (a &lt; 0) {
			s += &quot;b&quot;;
			a++;
		}
		while (a > 0) {
			s += &quot;#&quot;;
			a--;
		}
		s += &quot;, &quot; + Integer.toString(octave) + &quot;, &quot;;
		s += String.format(&quot;%3.2f&quot;, duration);
		s += &quot;)&quot;;

		return s;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKL8rFyEeeCH50Lr9AhYw" name="execute" specification="_crVFgLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKL87FyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csKL9LFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csKL9bFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csKL9rFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKL97FyEeeCH50Lr9AhYw" name="setName" specification="_coOuOLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKL-LFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <language>java</language>
            <body>switch (name) {
		case 'a':
		case 'A':
			this.name = 'A';
			break;

		case 'b':
		case 'B':
			this.name = 'B';
			break;

		case 'c':
		case 'C':
			this.name = 'C';
			break;

		case 'd':
		case 'D':
			this.name = 'D';
			break;

		case 'e':
		case 'E':
			this.name = 'E';
			break;

		case 'f':
		case 'F':
			this.name = 'F';
			break;

		case 'g':
		case 'G':
			this.name = 'G';
			break;

		default:
			this.name = 'Z';
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKL-bFyEeeCH50Lr9AhYw" name="setAccidental" specification="_coPVQLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKL-rFyEeeCH50Lr9AhYw" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>this.accidental = accidental;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKL-7FyEeeCH50Lr9AhYw" name="getIsNatural" specification="_coPVQrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKL_LFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>return isNatural;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKL_bFyEeeCH50Lr9AhYw" name="setIsNatural" specification="_coPVRLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKL_rFyEeeCH50Lr9AhYw" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>this.isNatural = isNatural;
		if (isNatural)
			accidental = 0;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coOHILFyEeeCH50Lr9AhYw" name="Note" method="_csJk5rFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coOuM7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coOuNLFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csY1hLFyEeeCH50Lr9AhYw">
              <body>Constructor for the class
	 * @param name  The name of the note
	 * @param octave The octave of the note w.r.t. middle C.  Zero = same octave as middle C.
	 * @param accidental accidental setting sharp &amp;gt; 0, flat &amp;lt; 0
	 * @param duration duration of note
	 * @param isNatural flag to override key signature.  True if note should be natural, overriding key signature.</body>
            </ownedComment>
            <ownedParameter xmi:id="_coOHIbFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coOHIrFyEeeCH50Lr9AhYw" name="octave">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coOuMLFyEeeCH50Lr9AhYw" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coOuMbFyEeeCH50Lr9AhYw" name="duration">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coOuMrFyEeeCH50Lr9AhYw" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coOuNbFyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coOuNrFyEeeCH50Lr9AhYw" name="toString" method="_csKL8LFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1hbFyEeeCH50Lr9AhYw">
              <body>Returns a string representation of the Note  
	 * @return &quot;(name, octave, duration)&quot;</body>
            </ownedComment>
            <ownedParameter xmi:id="_coOuN7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coOuOLFyEeeCH50Lr9AhYw" name="setName" method="_csKL97FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1hrFyEeeCH50Lr9AhYw">
              <body>Accessor to set the name of the note
	 * @param name - the name to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_coOuObFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coPVQLFyEeeCH50Lr9AhYw" name="setAccidental" method="_csKL-bFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1h7FyEeeCH50Lr9AhYw">
              <body>Accessor to set the accidental value
	 * @param accidental - the accidental to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_coPVQbFyEeeCH50Lr9AhYw" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coPVQrFyEeeCH50Lr9AhYw" name="getIsNatural" method="_csKL-7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1iLFyEeeCH50Lr9AhYw">
              <body>Accessor for isNatural flag
	 * @return isNatural flag setting</body>
            </ownedComment>
            <ownedParameter xmi:id="_coPVQ7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coPVRLFyEeeCH50Lr9AhYw" name="setIsNatural" method="_csKL_bFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csY1ibFyEeeCH50Lr9AhYw">
              <body>Settor for isNatural flag.  Accidentals will be set to zero if isNatural is true.
	 * @param isNatural  New isNatural setting</body>
            </ownedComment>
            <ownedParameter xmi:id="_coPVRbFyEeeCH50Lr9AhYw" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_crVFgLFyEeeCH50Lr9AhYw" name="execute" method="_csKL8rFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crVFgbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crVFgrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crVFhbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crVFg7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coQjYLFyEeeCH50Lr9AhYw" name="NoteCollection" isAbstract="true">
          <ownedComment xmi:id="_csY1irFyEeeCH50Lr9AhYw">
            <body>A collection of multiple notes</body>
          </ownedComment>
          <ownedComment xmi:id="_csZcgLFyEeeCH50Lr9AhYw">
            <body>A collection of Notes</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cryYhbFyEeeCH50Lr9AhYw" name="notes" visibility="protected" type="_coNgELFyEeeCH50Lr9AhYw" association="_cstlkbFyEeeCH50Lr9AhYw">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cryYhrFyEeeCH50Lr9AhYw" value="*"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqsMULFyEeeCH50Lr9AhYw" client="_coQjYLFyEeeCH50Lr9AhYw" supplier="_coHZcLFyEeeCH50Lr9AhYw" contract="_coHZcLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKzALFyEeeCH50Lr9AhYw" name="NoteCollection" specification="_cqsMUbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKzAbFyEeeCH50Lr9AhYw" name="notes" type="_coNgELFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csKzArFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csKzA7FyEeeCH50Lr9AhYw" type="_coQjYLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>this.notes = notes;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKzBLFyEeeCH50Lr9AhYw" name="getNotes" specification="_coRKcLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKzBbFyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csKzBrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <language>java</language>
            <body>return notes;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coRKcLFyEeeCH50Lr9AhYw" name="getNotes" method="_csKzBLFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZcgbFyEeeCH50Lr9AhYw">
              <body>Accessor for the array of notes in this collection
	 * @return the array of notes</body>
            </ownedComment>
            <ownedParameter xmi:id="_coRKcbFyEeeCH50Lr9AhYw" type="_coNgELFyEeeCH50Lr9AhYw" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_coRKcrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqsMUbFyEeeCH50Lr9AhYw" name="NoteCollection" method="_csKzALFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqsMU7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqsMVLFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cqsMUrFyEeeCH50Lr9AhYw" name="notes" type="_coNgELFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cqsMV7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqsMVrFyEeeCH50Lr9AhYw" type="_coQjYLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coSYkLFyEeeCH50Lr9AhYw" name="ToggleDecoratorSeqList">
          <ownedComment xmi:id="_csZcgrFyEeeCH50Lr9AhYw">
            <body>Multiple Decorator ISeqList where the active decoree (the &quot;target&quot;) is
toggled (cycled, actually) through all the available decorees.   
This is arguably a State Design Pattern where each decoree is 
considered to be another state of the system.
This is used to implement repeats where the first time through, the notes are linked
back to a repeat start (decoree #0) but the next time through, the next note is the one
after the repeat (decoree #1).

@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_csZcg7FyEeeCH50Lr9AhYw">
            <body>Decorated ISeqList that transparently cycles through multiple targets (decorees)</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cry_krFyEeeCH50Lr9AhYw" name="decorees" visibility="private" type="_coJ1sLFyEeeCH50Lr9AhYw" association="_cstllLFyEeeCH50Lr9AhYw">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cry_k7FyEeeCH50Lr9AhYw" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cry_lbFyEeeCH50Lr9AhYw" value="{ MTSeqList.Singleton, MTSeqList.Singleton }"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_crzmoLFyEeeCH50Lr9AhYw" name="targetIdx" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crzmobFyEeeCH50Lr9AhYw" value="0"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqszYbFyEeeCH50Lr9AhYw" client="_coSYkLFyEeeCH50Lr9AhYw" supplier="_coJ1sLFyEeeCH50Lr9AhYw" contract="_coJ1sLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKzB7FyEeeCH50Lr9AhYw" name="ToggleDecoratorSeqList" specification="_cqszYrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKzCLFyEeeCH50Lr9AhYw" name="decorees" type="_coJ1sLFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csKzCbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csKzCrFyEeeCH50Lr9AhYw" type="_coSYkLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>setDecorees(decorees);
		setTargetToDecoree(0);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csKzC7FyEeeCH50Lr9AhYw" name="setDecorees" specification="_cqtacrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csKzDLFyEeeCH50Lr9AhYw" name="decorees" type="_coJ1sLFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csKzDbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <language>java</language>
            <body>this.decorees = decorees;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csLaELFyEeeCH50Lr9AhYw" name="setDecoree" specification="_cqtad7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csLaEbFyEeeCH50Lr9AhYw" name="idx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csLaErFyEeeCH50Lr9AhYw" name="decoree" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>this.decorees[idx] = decoree;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csLaE7FyEeeCH50Lr9AhYw" name="setTargetToDecoree" specification="_coTmsLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csLaFLFyEeeCH50Lr9AhYw" name="targetIdx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>this.targetIdx = targetIdx;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csLaFbFyEeeCH50Lr9AhYw" name="getTargetDecoree" specification="_coTmsrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csLaFrFyEeeCH50Lr9AhYw" type="_coJ1sLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return decorees[targetIdx];
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csLaF7FyEeeCH50Lr9AhYw" name="execute" specification="_crWToLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csLaGLFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csLaGbFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csLaGrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csLaG7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>ISeqList target = decorees[targetIdx++];
		if (targetIdx >= decorees.length)
			targetIdx = 0; // This must be set before the delegate because it may be needed before the recursion returns.
		return target.execute(algo, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csLaHLFyEeeCH50Lr9AhYw" name="toString" specification="_coUNwLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csLaHbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return (String) this.execute(NESeqList.getToStringAlgo(), &quot;{&quot;);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coS_oLFyEeeCH50Lr9AhYw" name="ToggleDecoratorSeqList">
            <eAnnotations xmi:id="_coS_obFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coS_orFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_coS_pLFyEeeCH50Lr9AhYw" type="_coSYkLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coTmsLFyEeeCH50Lr9AhYw" name="setTargetToDecoree" method="_csLaE7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZchbFyEeeCH50Lr9AhYw">
              <body>Used to explicitly set the target (active) decoree if needed.
	 * @param targetIdx  the index of the target decoree</body>
            </ownedComment>
            <ownedParameter xmi:id="_coTmsbFyEeeCH50Lr9AhYw" name="targetIdx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_coTmsrFyEeeCH50Lr9AhYw" name="getTargetDecoree" method="_csLaFbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZchrFyEeeCH50Lr9AhYw">
              <body>Accessor for the current target (active) decoree
	 * @return  The current target (active) decoree</body>
            </ownedComment>
            <ownedParameter xmi:id="_cquBgLFyEeeCH50Lr9AhYw" type="_coJ1sLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coUNwLFyEeeCH50Lr9AhYw" name="toString" method="_csLaHLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_coUNwbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqszYrFyEeeCH50Lr9AhYw" name="ToggleDecoratorSeqList" method="_csKzB7FyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqszZLFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqszZbFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cqszY7FyEeeCH50Lr9AhYw" name="decorees" type="_coJ1sLFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cqtacLFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqszZ7FyEeeCH50Lr9AhYw" type="_coSYkLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqtacrFyEeeCH50Lr9AhYw" name="setDecorees" method="_csKzC7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_cqtac7FyEeeCH50Lr9AhYw" name="decorees" type="_coJ1sLFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cqtadbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqtad7FyEeeCH50Lr9AhYw" name="setDecoree" method="_csLaELFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csZchLFyEeeCH50Lr9AhYw">
              <body>Setter methods used to set a particular decoree.   
	 * The specified index must already exist.
	 * @param idx The index of the decoree to replace
	 * @param decoree  The new decoree ISeqList.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqtaeLFyEeeCH50Lr9AhYw" name="idx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqtaebFyEeeCH50Lr9AhYw" name="decoree" type="_coJ1sLFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crWToLFyEeeCH50Lr9AhYw" name="execute" method="_csLaF7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crWTobFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crWTorFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crWTpbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crWTo7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coWC8LFyEeeCH50Lr9AhYw" name="Triplet">
          <ownedComment xmi:id="_csZch7FyEeeCH50Lr9AhYw">
            <body>A musical triplet.  The three notes should be played with 2/3 of their
indicated duration.</body>
          </ownedComment>
          <ownedComment xmi:id="_csZciLFyEeeCH50Lr9AhYw">
            <body>A set of 3 notes played in sequence in a special manner.</body>
          </ownedComment>
          <generalization xmi:id="_cquolrFyEeeCH50Lr9AhYw" general="_coQjYLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_crzmo7FyEeeCH50Lr9AhYw" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_crzmpLFyEeeCH50Lr9AhYw" value="&quot;Triplet&quot;"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csLaHrFyEeeCH50Lr9AhYw" name="Triplet" specification="_cquBgbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csLaH7FyEeeCH50Lr9AhYw" name="n1" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csLaILFyEeeCH50Lr9AhYw" name="n2" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csLaIbFyEeeCH50Lr9AhYw" name="n3" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csLaIrFyEeeCH50Lr9AhYw" type="_coWC8LFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>super(n1, n2, n3);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMBILFyEeeCH50Lr9AhYw" name="execute" specification="_crW6sLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMBIbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csMBIrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csMBI7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMBJLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMBJbFyEeeCH50Lr9AhYw" name="toString" specification="_coWqALFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMBJrFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String result = &quot;Triplet(&quot; + notes[0];
		for (int i = 1; i &lt; notes.length; i++) {
			result += &quot;, &quot; + notes[i];
		}
		return result + &quot;)&quot;;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coWqALFyEeeCH50Lr9AhYw" name="toString" method="_csMBJbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_coWqAbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cquBgbFyEeeCH50Lr9AhYw" name="Triplet" method="_csLaHrFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cquok7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cquolLFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cquokLFyEeeCH50Lr9AhYw" name="n1" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cquokbFyEeeCH50Lr9AhYw" name="n2" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cquokrFyEeeCH50Lr9AhYw" name="n3" type="_coNgELFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cquolbFyEeeCH50Lr9AhYw" type="_coWC8LFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crW6sLFyEeeCH50Lr9AhYw" name="execute" method="_csMBILFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crW6sbFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crW6srFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crXhwbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crW6s7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_coX4ILFyEeeCH50Lr9AhYw" name="Tuplet">
          <ownedComment xmi:id="_csZcibFyEeeCH50Lr9AhYw">
            <body>Class that represents a tuplet, a series of notes played in a fraction of their normal total time.
The exact fraction depends on the meter and the number of notes in the tuplet.
A triplet is a specific type of tuplet.
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_csZcirFyEeeCH50Lr9AhYw">
            <body>A arbitrary set of notes played in sequence in a special manner.</body>
          </ownedComment>
          <generalization xmi:id="_cqv2sLFyEeeCH50Lr9AhYw" general="_coQjYLFyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_crzmpbFyEeeCH50Lr9AhYw" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr0NsLFyEeeCH50Lr9AhYw" value="&quot;Tuplet&quot;"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMBJ7FyEeeCH50Lr9AhYw" name="Tuplet" specification="_cqvPoLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMBKLFyEeeCH50Lr9AhYw" name="notes" type="_coNgELFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csMBKbFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMBKrFyEeeCH50Lr9AhYw" type="_coX4ILFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>super(notes);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMBK7FyEeeCH50Lr9AhYw" name="execute" specification="_crYv4LFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMBLLFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csMBLbFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csMBLrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csMBL7FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csMoMLFyEeeCH50Lr9AhYw" name="toString" specification="_coYfMLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csMoMbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String result = &quot;Tuplet(&quot; + notes[0];
		for (int i = 1; i &lt; notes.length; i++) {
			result += &quot;, &quot; + notes[i];
		}
		return result + &quot;)&quot;;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_coYfMLFyEeeCH50Lr9AhYw" name="toString" method="_csMoMLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_coYfMbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_cqvPoLFyEeeCH50Lr9AhYw" name="Tuplet" method="_csMBJ7FyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqvPorFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqvPo7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_cqvPobFyEeeCH50Lr9AhYw" name="notes" type="_coNgELFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cqvPprFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqvPpbFyEeeCH50Lr9AhYw" type="_coX4ILFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crYv4LFyEeeCH50Lr9AhYw" name="execute" method="_csMBK7FyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crYv4bFyEeeCH50Lr9AhYw" name="algo" type="_coInkLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crYv4rFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crZW8LFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crYv47FyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csrJU7FyEeeCH50Lr9AhYw" name="" memberEnd="_csrJVLFyEeeCH50Lr9AhYw _cruHEbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csrJVLFyEeeCH50Lr9AhYw" name="" type="_cn_doLFyEeeCH50Lr9AhYw" association="_csrJU7FyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csrwYbFyEeeCH50Lr9AhYw" name="" memberEnd="_csrwYrFyEeeCH50Lr9AhYw _cruHE7FyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_csrwYrFyEeeCH50Lr9AhYw" name="" type="_cn_doLFyEeeCH50Lr9AhYw" association="_csrwYbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_csrwZLFyEeeCH50Lr9AhYw" name="" memberEnd="_cssXcLFyEeeCH50Lr9AhYw _cruuI7FyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cssXcLFyEeeCH50Lr9AhYw" name="" type="_coCg8LFyEeeCH50Lr9AhYw" association="_csrwZLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cssXcrFyEeeCH50Lr9AhYw" name="" memberEnd="_cssXc7FyEeeCH50Lr9AhYw _crwjUbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cssXc7FyEeeCH50Lr9AhYw" name="" type="_coJ1sbFyEeeCH50Lr9AhYw" association="_cssXcrFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cssXdbFyEeeCH50Lr9AhYw" name="" memberEnd="_cssXdrFyEeeCH50Lr9AhYw _crwjVbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cssXdrFyEeeCH50Lr9AhYw" name="" type="_coLq4LFyEeeCH50Lr9AhYw" association="_cssXdbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_css-gbFyEeeCH50Lr9AhYw" name="" memberEnd="_css-grFyEeeCH50Lr9AhYw _crwjV7FyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_css-grFyEeeCH50Lr9AhYw" name="" type="_coLq4LFyEeeCH50Lr9AhYw" association="_css-gbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_css-hLFyEeeCH50Lr9AhYw" name="" memberEnd="_css-hbFyEeeCH50Lr9AhYw _crxKYbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_css-hbFyEeeCH50Lr9AhYw" name="" type="_coLq4LFyEeeCH50Lr9AhYw" association="_css-hLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cstlkbFyEeeCH50Lr9AhYw" name="" memberEnd="_cstlkrFyEeeCH50Lr9AhYw _cryYhbFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cstlkrFyEeeCH50Lr9AhYw" name="" type="_coQjYLFyEeeCH50Lr9AhYw" association="_cstlkbFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cstllLFyEeeCH50Lr9AhYw" name="" memberEnd="_cstllbFyEeeCH50Lr9AhYw _cry_krFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cstllbFyEeeCH50Lr9AhYw" name="" type="_coSYkLFyEeeCH50Lr9AhYw" association="_cstllLFyEeeCH50Lr9AhYw"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cmdzobFyEeeCH50Lr9AhYw" name="token">
        <packagedElement xmi:type="uml:Package" xmi:id="_cmeasLFyEeeCH50Lr9AhYw" name="tokenizer">
          <packagedElement xmi:type="uml:Class" xmi:id="_conIsrFyEeeCH50Lr9AhYw" name="ABCTokenizer">
            <ownedComment xmi:id="_csaqqLFyEeeCH50Lr9AhYw">
              <body>Tokenizer for the abc music language. getNextToken() returns next Token in
stream. Does not recognize all possible language constructs and symbols
(returned as &quot;?&quot; token).  Tokens are the atomic psemantic pieces of a language,
such as Note, repeat start, measure, chord, etc.   The token ids (names) returned are: 
 
 EOF - end of file
 &quot;|:&quot; - repeat start
 &quot;:|&quot; - repeat end
 &quot;|1&quot; - first repeat start
 &quot;[1&quot; - alternative first repeat start
 &quot;|2&quot; - second repeat start
 &quot;[2&quot; - alternative second repeat start
 &quot;[|&quot; - thick-thin double bar line
 &quot;|]&quot; - thin-thick double bar line
 &quot;:|2&quot; - alternative second repeat start
 &quot;||&quot; - double measure bar
 &quot;::&quot; - short hand for repeat end-start &quot;:||:&quot;
 &quot;|&quot; - Measure bar
 &quot;[&quot;) - Chord start
 &quot;]&quot; - Chord end
 &quot;-&quot; - tie
 &quot;&amp;lt;&quot; - the previous note  is dotted, the next note halved 
 &quot;&amp;gt;&quot; - the previous note is halved, the next dotted
 &quot;{&quot; - Grace begin
 &quot;}&quot; - Grace end
 &quot;%&quot; - Comment
 &quot;[Header ID]&quot; - where [Header ID] is a single letter from {ABCDEFGHIKLMNOPQRSTWXZ}  
 &quot;Note&quot; - a single note whose lexeme contains the name, accidentals, octave and duration
 &quot;Tuplet&quot; - the lexeme is the number of subsequent Notes comprise this tuplet. 
 &quot;Quote&quot; - lexeme is the quoted text 
 &quot;?&quot; - unknown language construct. 
  
References: 
&lt;a href =
&quot;http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html&quot;
>java.util.regex.Pattern for regex guide&lt;/a>
&lt;a href=&quot;http://asciitable.com/&quot;>ASCII table for codes&lt;/a>
&lt;a href=&quot;http://abcnotation.com/abc2mtex/abc.txt&quot;>abc music standard 1.6&lt;/a></body>
            </ownedComment>
            <generalization xmi:id="_cq1WRLFyEeeCH50Lr9AhYw" general="_coraIbFyEeeCH50Lr9AhYw"/>
            <ownedAttribute xmi:id="_cr34FLFyEeeCH50Lr9AhYw" name="keywords1" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <qualifier xmi:id="_cr4fIbFyEeeCH50Lr9AhYw">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </qualifier>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr34FbFyEeeCH50Lr9AhYw" value="new Hashtable&lt;String, String>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr4fIrFyEeeCH50Lr9AhYw" name="keywords2" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <qualifier xmi:id="_cr4fJbFyEeeCH50Lr9AhYw">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </qualifier>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr4fI7FyEeeCH50Lr9AhYw" value="new Hashtable&lt;String, String>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr4fJrFyEeeCH50Lr9AhYw" name="keywordsVector" visibility="private" type="_crgrsLFyEeeCH50Lr9AhYw" association="_cswo5rFyEeeCH50Lr9AhYw">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr5GMbFyEeeCH50Lr9AhYw" value="new Vector&lt;Map&lt;String, String>>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr5GM7FyEeeCH50Lr9AhYw" name="tokFac" visibility="private" type="_cokFYLFyEeeCH50Lr9AhYw" association="_csxP8bFyEeeCH50Lr9AhYw">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr5GNLFyEeeCH50Lr9AhYw" value="TokenFactory.Singleton"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr5tQbFyEeeCH50Lr9AhYw" name="stack" visibility="private" type="_crLUgLFyEeeCH50Lr9AhYw" association="_csxP9LFyEeeCH50Lr9AhYw">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr5tQ7FyEeeCH50Lr9AhYw" value="new Stack&lt;Token>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr6UULFyEeeCH50Lr9AhYw" name="ACCIDENTALS" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr6UUbFyEeeCH50Lr9AhYw" value="&quot;_=^&quot;"/>
            </ownedAttribute>
            <interfaceRealization xmi:id="_cq0vMLFyEeeCH50Lr9AhYw" client="_conIsrFyEeeCH50Lr9AhYw" supplier="_coqzEbFyEeeCH50Lr9AhYw" contract="_coqzEbFyEeeCH50Lr9AhYw"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPrhrFyEeeCH50Lr9AhYw" name="ABCTokenizer" specification="_convwLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csPrh7FyEeeCH50Lr9AhYw" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csPriLFyEeeCH50Lr9AhYw" type="_conIsrFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
              </ownedParameter>
              <language>java</language>
              <body>super(inputFileName);

		// note: &quot;\\7C&quot; => &quot;|&quot;, &quot;\\x5B&quot; => &quot;[&quot;, &quot;\\x5D&quot; => &quot;]&quot;
		// &quot;\\x7B&quot; => &quot;{&quot;,  &quot;\\x7D&quot; => &quot;}&quot;

		// load the regex->keyword mapping
		keywords1.put(&quot;\\x7C:&quot;, &quot;|:&quot;); // repeat start
		keywords1.put(&quot;:\\x7C&quot;, &quot;:|&quot;); // repeat end
		keywords1.put(&quot;\\x7C1&quot;, &quot;|1&quot;); // first repeat start
		keywords1.put(&quot;\\x5B1&quot;, &quot;[1&quot;); // alternative first repeat start
		keywords1.put(&quot;\\x7C2&quot;, &quot;|2&quot;); // second repeat start
		keywords1.put(&quot;\\x5B2&quot;, &quot;[2&quot;); // alternative second repeat start
		keywords1.put(&quot;\\x5B\\7C&quot;, &quot;[|&quot;); // thick-thin double bar line
		keywords1.put(&quot;\\7C\\x5D&quot;, &quot;|]&quot;); // thin-thick double bar line
		keywords1.put(&quot;:\\x7C2&quot;, &quot;:|2&quot;); // alternative second repeat start
		keywords1.put(&quot;\\x7C\\x7C&quot;, &quot;||&quot;); // double measure bar
		keywords1.put(&quot;::&quot;, &quot;::&quot;); // short hand for repeat end-start &quot;:||:&quot;

		// Should these be separated out into a different map because order of
		// search is important?
		keywords2.put(&quot;\\x7C&quot;, &quot;|&quot;); // Measure bar
		keywords2.put(&quot;\\x5B&quot;, &quot;[&quot;); // Chord start
		keywords2.put(&quot;\\x5D&quot;, &quot;]&quot;); // Chord end
		keywords2.put(&quot;-&quot;, &quot;-&quot;); // tie
		keywords2.put(&quot;>&quot;, &quot;>&quot;); // the previous note  is dotted, the next note halved 
		keywords2.put(&quot;&lt;&quot;, &quot;&lt;&quot;); // the previous note is halved, the next dotted
		keywords2.put(&quot;\\x7B&quot;, &quot;{&quot;); // Grace begin
		keywords2.put(&quot;\\x7D&quot;, &quot;}&quot;); // Grace end		

		keywordsVector.add(keywords1);
		keywordsVector.add(keywords2);

	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPribFyEeeCH50Lr9AhYw" name="getNextToken" specification="_cooW0LFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csPrirFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
              </ownedParameter>
              <language>java</language>
              <body>if (stack.empty())
			return makeNextToken();
		else
			return stack.pop();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPri7FyEeeCH50Lr9AhYw" name="putBack" specification="_cq1WQbFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csPrjLFyEeeCH50Lr9AhYw" name="t" type="_cokFZLFyEeeCH50Lr9AhYw"/>
              <language>java</language>
              <body>stack.push(t);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQSkLFyEeeCH50Lr9AhYw" name="makeNextToken" specification="_cooW0bFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQSkbFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
              </ownedParameter>
              <language>java</language>
              <body>String sTok = this.getNextStringToken();
		if (null == sTok)
			return tokFac.makeToken(&quot;EOF&quot;, &quot;EOF&quot;); // EOF returns as null
		if (sTok.equals(&quot;\n&quot;))
			return makeNextToken(); // discard bare LF's.

		// search for first keywords, pushing extra tokens back into tokenizer's
		// stack.
		for (Map&lt;String, String> keywords : keywordsVector) {
			for (String kw : keywords.keySet()) {
				if (keywords.get(kw).equals(sTok))
					return tokFac.makeToken(sTok, sTok);
				String[] split = sTok.split(kw, -1);
				if (split.length > 1) {

					for (int i = split.length - 1; i > 0; i--) {
						if (!split[i].equals(&quot;&quot;)) {
							this.putStringBack(split[i]);
						}
						this.putStringBack(keywords.get(kw));
					}
					if (!split[0].equals(&quot;&quot;)) {
						this.putStringBack(split[0]);
					}
					return makeNextToken();
				}
			}
		}

		// Find header tokens, which are the whole line.
		int idx = sTok.indexOf(&quot;:&quot;);
		if (1 == idx) {
			String header = sTok;
			String next = super.getNextStringToken();
			while (!next.equals(&quot;\n&quot;)) {
				header += &quot; &quot; + next;
				next = this.getNextStringToken();
			}
			return tokFac.makeToken(header.substring(0, 1), header.substring(2));
		}

		// Find comment, which is the rest of the line.
		idx = sTok.indexOf(&quot;%&quot;);
		if (-1 != idx) {
			// Comment in line somewhere
			if (0 == idx) { // comment is at beginning of line
				String comment = sTok;
				String next = super.getNextStringToken();
				while (!next.equals(&quot;\n&quot;)) { // get the rest of the line
					comment += next;
					// get the next string token 
					next = this.getNextStringToken();
				}
				return tokFac.makeToken(&quot;%&quot;, comment.substring(1));
			} else { // comment is in middle of the line
				// push the entire comment, incl. the comment char, back into
				// the tokenizer b/c it can't be dealt with yet.
				this.putStringBack(sTok.substring(idx));
				// push the tokens before the comment back into the tokenizer
				// so that they can be then processed when pulled back out.
				this.putStringBack(sTok.substring(0, idx));
				return makeNextToken(); // Process whatever is in the tokenizer
			}
		}

		// Find tuplet
		if ('(' == sTok.charAt(0)) {
			// Tuplet found
			int n = Integer.parseInt(sTok.substring(1, 2)); // get tuplet size
			this.putStringBack(sTok.substring(2)); // push rest back into tokenizer
			return tokFac.makeToken(&quot;Tuplet&quot;, &quot;&quot; + n);
		}

		if (Character.isLetter(sTok.charAt(0)) || ACCIDENTALS.contains(sTok.subSequence(0, 1))) {
			// Start of Note string found.
			return tokFac.makeToken(&quot;Note&quot;, parseNote(sTok));
		}

		if ('\&quot;' == sTok.charAt(0)) {
			// Quoted string found
			return tokFac.makeToken(&quot;Quote&quot;, parseQuote(&quot;&quot;, sTok.substring(1)));
		}

		if (sTok.equals(&quot;\\&quot;)) {
			// abc line break detected.  Ignore.
			return makeNextToken();
		}

		// Unknown token
		return tokFac.makeToken(&quot;?&quot;, sTok);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQSkrFyEeeCH50Lr9AhYw" name="parseNote" specification="_cooW0rFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQSk7FyEeeCH50Lr9AhYw" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csQSlLFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>int i = 1;
		// look for pre-note name characters
		if (!Character.isLetter(sTok.charAt(0))) {
			for (; i &lt; sTok.length(); i++) {
				if (sTok.charAt(i) != sTok.charAt(0)) {
					i++; // move to next char
					break; // This assumes that this char is a letter which
							// follows the accidentals
				}
			}
		}

		for (; i &lt; sTok.length(); i++) {
			// look for non-post-note name characters.
			if (!(Character.isDigit(sTok.charAt(i)) || &quot;,/'&quot;.contains(sTok.subSequence(i, i + 1)))) {
				putStringBack(sTok.substring(i)); // put the rest back in the
													// tokenizer.
				break;
			}
		}
		// i = end of note string
		return sTok.substring(0, i);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQSlbFyEeeCH50Lr9AhYw" name="parseQuote" specification="_coo94LFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQSlrFyEeeCH50Lr9AhYw" name="acc">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csQSl7FyEeeCH50Lr9AhYw" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csQSmLFyEeeCH50Lr9AhYw" direction="return">
                <name xsi:nil="true"/>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>for (int i = 0; i &lt; sTok.length(); i++) {
			if ('\&quot;' == sTok.charAt(i)) {
				String rest = sTok.substring(i + 1);
				if (!rest.equals(&quot;&quot;)) {
					this.putStringBack(rest);
				}
				return acc;
			} else {
				acc += sTok.charAt(i);
			}
		}
		acc += &quot; &quot;;
		return parseQuote(acc, this.getNextStringToken());
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_convwLFyEeeCH50Lr9AhYw" name="ABCTokenizer" method="_csPrhrFyEeeCH50Lr9AhYw" raisedException="_cq2kZbFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_convwrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_convw7FyEeeCH50Lr9AhYw" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_csaqqbFyEeeCH50Lr9AhYw">
                <body>Constructor for the class
	 * @param inputFileName  File to tokenize
	 * @throws FileNotFoundException  When input file could not be loaded.</body>
              </ownedComment>
              <ownedParameter xmi:id="_convwbFyEeeCH50Lr9AhYw" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_convxLFyEeeCH50Lr9AhYw" type="_conIsrFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_cooW0LFyEeeCH50Lr9AhYw" name="getNextToken" method="_csPribFyEeeCH50Lr9AhYw">
              <ownedComment xmi:id="_csaqqrFyEeeCH50Lr9AhYw">
                <body>Return the next token, either from the stream or the last token if it was
	 * pushed back</body>
              </ownedComment>
              <ownedParameter xmi:id="_cq1WQLFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_cooW0bFyEeeCH50Lr9AhYw" name="makeNextToken" visibility="private" method="_csQSkLFyEeeCH50Lr9AhYw">
              <ownedComment xmi:id="_csbRsbFyEeeCH50Lr9AhYw">
                <body>Parse the strings down from the getNextStringToken further, separating
	 * out the abc keywords into tokens.
	 * @return The next Token in the stream</body>
              </ownedComment>
              <ownedParameter xmi:id="_cq1WQ7FyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_cooW0rFyEeeCH50Lr9AhYw" name="parseNote" visibility="private" method="_csQSkrFyEeeCH50Lr9AhYw">
              <ownedComment xmi:id="_csbRsrFyEeeCH50Lr9AhYw">
                <body>Returns the first note string in the given string.
	 * 
	 * @param sTok  The string to parse
	 * @return A String that is the first note in the given string</body>
              </ownedComment>
              <ownedParameter xmi:id="_cooW07FyEeeCH50Lr9AhYw" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_cooW1LFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_coo94LFyEeeCH50Lr9AhYw" name="parseQuote" visibility="private" method="_csQSlbFyEeeCH50Lr9AhYw">
              <ownedComment xmi:id="_csbRs7FyEeeCH50Lr9AhYw">
                <body>Returns the rest of a string, incl. spaces until the next double quote
	 * @param acc  Accumulated result string
	 * @param sTok the current string token
	 * @return the full quoted string</body>
              </ownedComment>
              <ownedParameter xmi:id="_coo94bFyEeeCH50Lr9AhYw" name="acc">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_coo94rFyEeeCH50Lr9AhYw" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_coo947FyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_cq1WQbFyEeeCH50Lr9AhYw" name="putBack" method="_csPri7FyEeeCH50Lr9AhYw">
              <ownedComment xmi:id="_csbRsLFyEeeCH50Lr9AhYw">
                <body>*	 Push token back into the stream
	 * @param t the Token you need to put back in the stream.</body>
              </ownedComment>
              <ownedParameter xmi:id="_cq1WQrFyEeeCH50Lr9AhYw" name="t" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_coqMALFyEeeCH50Lr9AhYw" name="IStringTokenizer">
            <ownedComment xmi:id="_csbRtLFyEeeCH50Lr9AhYw">
              <body>Tokenizer that only returns string tokens.  This is a specialization of ITokenizer for strings.

@author swong
 *</body>
            </ownedComment>
            <ownedOperation xmi:id="_coqMAbFyEeeCH50Lr9AhYw" name="getNextStringToken" isAbstract="true">
              <ownedComment xmi:id="_csbRtbFyEeeCH50Lr9AhYw">
                <body>Return the next token.
	 * @return The next token in the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_coqMArFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_coqMA7FyEeeCH50Lr9AhYw" name="putStringBack" isAbstract="true">
              <ownedComment xmi:id="_csbRtrFyEeeCH50Lr9AhYw">
                <body>Put the previously consumed token back into the token stream. Can only
	 * put back one token.
	 * @param t the token to push back into the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_coqzELFyEeeCH50Lr9AhYw" name="t">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_coqzEbFyEeeCH50Lr9AhYw" name="ITokenizer" isAbstract="true">
            <ownedComment xmi:id="_csbRt7FyEeeCH50Lr9AhYw">
              <body>Extract and return an appropriate Token from some given source.</body>
            </ownedComment>
            <ownedOperation xmi:id="_coqzE7FyEeeCH50Lr9AhYw" name="getNextToken" isAbstract="true">
              <ownedComment xmi:id="_csbRuLFyEeeCH50Lr9AhYw">
                <body>Return the next token.
	 * @return the next token in the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_cq19ULFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_cq2kYLFyEeeCH50Lr9AhYw" name="putBack" isAbstract="true">
              <ownedComment xmi:id="_csbRubFyEeeCH50Lr9AhYw">
                <body>Put the previously consumed token back into the token stream. 
	 * @param t the token to put back into the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_cq2kYbFyEeeCH50Lr9AhYw" name="t" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_coraIbFyEeeCH50Lr9AhYw" name="StringTokenizer">
            <ownedComment xmi:id="_csbRurFyEeeCH50Lr9AhYw">
              <body>Special tokenizer that converts a stream of various types of tokens from  StreamTokenizer and converts them into a stream of strings. 
@author swong
 *</body>
            </ownedComment>
            <ownedAttribute xmi:id="_cr6UUrFyEeeCH50Lr9AhYw" name="stack" visibility="private" type="_crLUgLFyEeeCH50Lr9AhYw" association="_csx3AbFyEeeCH50Lr9AhYw">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr67YbFyEeeCH50Lr9AhYw" value="new Stack&lt;String>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_cr67Y7FyEeeCH50Lr9AhYw" name="_st" visibility="protected" type="_cq5AoLFyEeeCH50Lr9AhYw" association="_csx3BLFyEeeCH50Lr9AhYw"/>
            <ownedAttribute xmi:id="_cr67ZbFyEeeCH50Lr9AhYw" name="_fileReader" visibility="protected" type="_cq4Zk7FyEeeCH50Lr9AhYw" association="_csyeELFyEeeCH50Lr9AhYw"/>
            <interfaceRealization xmi:id="_cq5AorFyEeeCH50Lr9AhYw" client="_coraIbFyEeeCH50Lr9AhYw" supplier="_coqMALFyEeeCH50Lr9AhYw" contract="_coqMALFyEeeCH50Lr9AhYw"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQSmbFyEeeCH50Lr9AhYw" name="StringTokenizer" specification="_cosBMLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQSmrFyEeeCH50Lr9AhYw" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_csQSm7FyEeeCH50Lr9AhYw" type="_coraIbFyEeeCH50Lr9AhYw" direction="return"/>
              <language>java</language>
              <body>// Create an input text file object:

		//_st = new StreamTokenizer(new BufferedReader(url.openStream()));
		//_fileReader = new FileReader(inputFileName);
		try {
			InputStream is = this.getClass().getResource(inputFileName).openStream();

			_fileReader = new BufferedReader(new InputStreamReader(is));

			//_fileReader = new FileReader(file);
		} catch (Exception e) {
			// TODO Auto-generated catch block
			System.err.println(&quot;StringTokenizer error opening file: &quot; + e);
			e.printStackTrace();
		}

		// Create a Streamtokenizer to parse the input text file:
		_st = new StreamTokenizer(_fileReader);

		_st.eolIsSignificant(true);
		_st.wordChars(33, 125);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQ5oLFyEeeCH50Lr9AhYw" name="getNextStringToken" specification="_cosBNbFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQ5obFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>if (stack.empty())
			return makeNextStringToken();
		else
			return stack.pop();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQ5orFyEeeCH50Lr9AhYw" name="putStringBack" specification="_cosoQ7FyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQ5o7FyEeeCH50Lr9AhYw" name="str">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>stack.push(str);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csQ5pLFyEeeCH50Lr9AhYw" name="makeNextStringToken" specification="_cosoSLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_csQ5pbFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>try {
			int t = _st.nextToken();
			if (StreamTokenizer.TT_EOL == t)
				return &quot;\n&quot;;
			if (StreamTokenizer.TT_EOF != t) {
				switch (_st.ttype) {

				case StreamTokenizer.TT_WORD: {
					return _st.sval;
				}

				case StreamTokenizer.TT_NUMBER: {
					// check if number is an integer
					if (Math.floor(_st.nval) == _st.nval) {
						return &quot;&quot; + (int) _st.nval;
					} else {
						return &quot;&quot; + _st.nval;
					}
				}

				default:
					throw new IllegalArgumentException(&quot;Tokenizer1: Illegal token type = &quot; + _st.ttype);
				}
			} else {
				_fileReader.close();
				System.err.println(&quot;EOF Token&quot;);
				return null;
			}
		} catch (IOException e) {
			System.out.println(&quot;StringTokenizer.makeNextToken(): Exception = &quot; + e.getMessage());
			return null;
		}

	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_cosBMLFyEeeCH50Lr9AhYw" name="StringTokenizer" method="_csQSmbFyEeeCH50Lr9AhYw" raisedException="_cq2kZbFyEeeCH50Lr9AhYw">
              <eAnnotations xmi:id="_cosBMrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_cosBM7FyEeeCH50Lr9AhYw" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_csbRu7FyEeeCH50Lr9AhYw">
                <body>Initialize _st to read from a input Reader file with the given input file
	 * name.
	 * 
	 * @param inputFileName
	 *            the name of the input text file
	 * @throws FileNotFoundException When the input file could not be opened</body>
              </ownedComment>
              <ownedParameter xmi:id="_cosBMbFyEeeCH50Lr9AhYw" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_cosBNLFyEeeCH50Lr9AhYw" type="_coraIbFyEeeCH50Lr9AhYw" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_cosBNbFyEeeCH50Lr9AhYw" name="getNextStringToken" method="_csQ5oLFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_cosBNrFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_cosoQ7FyEeeCH50Lr9AhYw" name="putStringBack" method="_csQ5orFyEeeCH50Lr9AhYw">
              <ownedParameter xmi:id="_cosoRLFyEeeCH50Lr9AhYw" name="str">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_cosoSLFyEeeCH50Lr9AhYw" name="makeNextStringToken" visibility="private" method="_csQ5pLFyEeeCH50Lr9AhYw">
              <ownedComment xmi:id="_csbRvLFyEeeCH50Lr9AhYw">
                <body>Returns the next string in the stream.  
	 * Returns LF (&quot;\n&quot;) at end of line.  
	 * Returns null for EOF or error
	 * 
	 * @return A string token or null if EOF</body>
              </ownedComment>
              <ownedParameter xmi:id="_cosoSbFyEeeCH50Lr9AhYw" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_cswo5rFyEeeCH50Lr9AhYw" name="" memberEnd="_cswo57FyEeeCH50Lr9AhYw _cr4fJrFyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_cswo57FyEeeCH50Lr9AhYw" name="" type="_conIsrFyEeeCH50Lr9AhYw" association="_cswo5rFyEeeCH50Lr9AhYw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csxP8bFyEeeCH50Lr9AhYw" name="" memberEnd="_csxP8rFyEeeCH50Lr9AhYw _cr5GM7FyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csxP8rFyEeeCH50Lr9AhYw" name="" type="_conIsrFyEeeCH50Lr9AhYw" association="_csxP8bFyEeeCH50Lr9AhYw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csxP9LFyEeeCH50Lr9AhYw" name="" memberEnd="_csxP9bFyEeeCH50Lr9AhYw _cr5tQbFyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csxP9bFyEeeCH50Lr9AhYw" name="" type="_conIsrFyEeeCH50Lr9AhYw" association="_csxP9LFyEeeCH50Lr9AhYw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csx3AbFyEeeCH50Lr9AhYw" name="" memberEnd="_csx3ArFyEeeCH50Lr9AhYw _cr6UUrFyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csx3ArFyEeeCH50Lr9AhYw" name="" type="_coraIbFyEeeCH50Lr9AhYw" association="_csx3AbFyEeeCH50Lr9AhYw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csx3BLFyEeeCH50Lr9AhYw" name="" memberEnd="_csx3BbFyEeeCH50Lr9AhYw _cr67Y7FyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csx3BbFyEeeCH50Lr9AhYw" name="" type="_coraIbFyEeeCH50Lr9AhYw" association="_csx3BLFyEeeCH50Lr9AhYw"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_csyeELFyEeeCH50Lr9AhYw" name="" memberEnd="_csyeEbFyEeeCH50Lr9AhYw _cr67ZbFyEeeCH50Lr9AhYw">
            <ownedEnd xmi:id="_csyeEbFyEeeCH50Lr9AhYw" name="" type="_coraIbFyEeeCH50Lr9AhYw" association="_csyeELFyEeeCH50Lr9AhYw"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cohCELFyEeeCH50Lr9AhYw" name="ATokVisitor" isAbstract="true">
          <ownedComment xmi:id="_csaDmbFyEeeCH50Lr9AhYw">
            <body>A visitor to an Token that implements ITokVisitor using a dictionary of commands.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr2p8bFyEeeCH50Lr9AhYw" name="defaultCmd" visibility="private" type="_cojeULFyEeeCH50Lr9AhYw" association="_cswB07FyEeeCH50Lr9AhYw"/>
          <ownedAttribute xmi:id="_cr2p87FyEeeCH50Lr9AhYw" name="cmds" visibility="private" type="_cojeULFyEeeCH50Lr9AhYw" association="_cswo4LFyEeeCH50Lr9AhYw">
            <qualifier xmi:id="_cr3RArFyEeeCH50Lr9AhYw">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </qualifier>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr3RALFyEeeCH50Lr9AhYw" value="new Hashtable&lt;String, ITokVisitorCmd>()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cqyS8LFyEeeCH50Lr9AhYw" client="_cohCELFyEeeCH50Lr9AhYw" supplier="_coi3QLFyEeeCH50Lr9AhYw" contract="_coi3QLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csOdYLFyEeeCH50Lr9AhYw" name="ATokVisitor" specification="_cohCEbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csOdYbFyEeeCH50Lr9AhYw" type="_cohCELFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>defaultCmd = new ITokVisitorCmd() {
			public Object apply(String idx, Token host, Object... inps) {
				throw new IllegalArgumentException(&quot;ATokVisitor: Unknown token encountered: &quot; + idx);
			}
		};
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csOdYrFyEeeCH50Lr9AhYw" name="ATokVisitor" specification="_cqyS8bFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csOdY7FyEeeCH50Lr9AhYw" name="defaultCmd" type="_cojeULFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csOdZLFyEeeCH50Lr9AhYw" type="_cohCELFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>this.defaultCmd = defaultCmd;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csOdZbFyEeeCH50Lr9AhYw" name="caseAt" specification="_crbzMLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csOdZrFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csOdZ7FyEeeCH50Lr9AhYw" name="host" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csOdaLFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csOdabFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csOdarFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>if (cmds.containsKey(id)) {
			return cmds.get(id).apply(id, host, params);
		} else {
			return defaultCmd.apply(id, host, params);
		}
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csOda7FyEeeCH50Lr9AhYw" name="addCmd" specification="_cqy6ALFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csOdbLFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csOdbbFyEeeCH50Lr9AhYw" name="cmd" type="_cojeULFyEeeCH50Lr9AhYw"/>
            <language>java</language>
            <body>cmds.put(id, cmd);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_cohCEbFyEeeCH50Lr9AhYw" name="ATokVisitor" method="_csOdYLFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cohCErFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cohCE7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csaDmrFyEeeCH50Lr9AhYw">
              <body>Constructor that sets the default cmd to one that throws and IllegalArgumentException&quot; for any unknown tokens.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cohCFLFyEeeCH50Lr9AhYw" type="_cohCELFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqyS8bFyEeeCH50Lr9AhYw" name="ATokVisitor" method="_csOdYrFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_cqyS87FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_cqyS9LFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csaDm7FyEeeCH50Lr9AhYw">
              <body>Constructor that sets the default cmd to the given command.
	 * @param defaultCmd the default cmd to use.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqyS8rFyEeeCH50Lr9AhYw" name="defaultCmd" type="_cojeULFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cqyS9bFyEeeCH50Lr9AhYw" type="_cohCELFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_cqy6ALFyEeeCH50Lr9AhYw" name="addCmd" method="_csOda7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaDnLFyEeeCH50Lr9AhYw">
              <body>Add a new cmd or replace an existing cmd associated with the given host id.
	 * @param id the id of the host to associate with this visitor.
	 * @param cmd The command to associate with the given key value.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cqy6AbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqy6ArFyEeeCH50Lr9AhYw" name="cmd" type="_cojeULFyEeeCH50Lr9AhYw"/>
          </ownedOperation>
          <ownedOperation xmi:id="_crbzMLFyEeeCH50Lr9AhYw" name="caseAt" method="_csOdZbFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crbzMbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crbzMrFyEeeCH50Lr9AhYw" name="host" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crbzM7FyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crcaQrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crcaQLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_coi3QLFyEeeCH50Lr9AhYw" name="ITokVisitor">
          <ownedComment xmi:id="_csaDnbFyEeeCH50Lr9AhYw">
            <body>Interface for a token visitor.</body>
          </ownedComment>
          <ownedOperation xmi:id="_crePcLFyEeeCH50Lr9AhYw" name="caseAt">
            <ownedParameter xmi:id="_crePcbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crePcrFyEeeCH50Lr9AhYw" name="host" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crePc7FyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cre2grFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cre2gLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_cojeULFyEeeCH50Lr9AhYw" name="ITokVisitorCmd">
          <ownedComment xmi:id="_csaqoLFyEeeCH50Lr9AhYw">
            <body>A command for use in ATokVisitors</body>
          </ownedComment>
          <ownedOperation xmi:id="_cre2hLFyEeeCH50Lr9AhYw" name="apply">
            <ownedParameter xmi:id="_cre2hbFyEeeCH50Lr9AhYw" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cre2hrFyEeeCH50Lr9AhYw" name="host" type="_cokFZLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_cre2h7FyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crfdkrFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crfdkLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_cokFYLFyEeeCH50Lr9AhYw" name="ITokenFactory">
          <ownedComment xmi:id="_csaqobFyEeeCH50Lr9AhYw">
            <body>Abstract factory to produce tokens</body>
          </ownedComment>
          <ownedOperation xmi:id="_cokFYbFyEeeCH50Lr9AhYw" name="makeToken">
            <ownedParameter xmi:id="_cokFYrFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cokFY7FyEeeCH50Lr9AhYw" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cqzhELFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cokFZLFyEeeCH50Lr9AhYw" name="Token">
          <ownedComment xmi:id="_csaqorFyEeeCH50Lr9AhYw">
            <body>Represents a token in the language.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr3RA7FyEeeCH50Lr9AhYw" name="_name" visibility="package">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_cr34ELFyEeeCH50Lr9AhYw" name="_lexeme" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPEcLFyEeeCH50Lr9AhYw" name="Token" specification="_cokscLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csPEcbFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csPEcrFyEeeCH50Lr9AhYw" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csPEc7FyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>_name = name;
		_lexeme = lexeme;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPEdLFyEeeCH50Lr9AhYw" name="execute" specification="_crfdlLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csPEdbFyEeeCH50Lr9AhYw" name="algo" type="_coi3QLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_csPEdrFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csPEd7FyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csPEeLFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(_name, this, params);
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPEebFyEeeCH50Lr9AhYw" name="getName" specification="_coksdrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csPEerFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _name;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPEe7FyEeeCH50Lr9AhYw" name="getLexeme" specification="_colTgLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csPEfLFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _lexeme;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPEfbFyEeeCH50Lr9AhYw" name="toString" specification="_colTgrFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csPEfrFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return &quot;[&quot; + _name + &quot;] &quot; + _lexeme;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_cokscLFyEeeCH50Lr9AhYw" name="Token" method="_csPEcLFyEeeCH50Lr9AhYw">
            <eAnnotations xmi:id="_coksc7FyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_coksdLFyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_csaqo7FyEeeCH50Lr9AhYw">
              <body>Token constructor.
	 *
	 * @param name The name associated with this token.  This is the id value when it executes its visitors.
	 * @param lexeme _lexeme this token is representing.</body>
            </ownedComment>
            <ownedParameter xmi:id="_cokscbFyEeeCH50Lr9AhYw" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cokscrFyEeeCH50Lr9AhYw" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_coksdbFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_coksdrFyEeeCH50Lr9AhYw" name="getName" method="_csPEebFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaqpLFyEeeCH50Lr9AhYw">
              <body>Accessor for the name of this token
	 * @return The name of this token</body>
            </ownedComment>
            <ownedParameter xmi:id="_coksd7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_colTgLFyEeeCH50Lr9AhYw" name="getLexeme" method="_csPEe7FyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaqpbFyEeeCH50Lr9AhYw">
              <body>Accessor for the lexeme of this token
	 * @return The lexeme of this token</body>
            </ownedComment>
            <ownedParameter xmi:id="_colTgbFyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_colTgrFyEeeCH50Lr9AhYw" name="toString" method="_csPEfbFyEeeCH50Lr9AhYw">
            <ownedComment xmi:id="_csaqprFyEeeCH50Lr9AhYw">
              <body>Return a string representation of the token: &quot;[name] lexeme&quot;
	 *
	 * @return string representation</body>
            </ownedComment>
            <ownedParameter xmi:id="_colTg7FyEeeCH50Lr9AhYw" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_crfdlLFyEeeCH50Lr9AhYw" name="execute" method="_csPEdLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_crgEoLFyEeeCH50Lr9AhYw" name="algo" type="_coi3QLFyEeeCH50Lr9AhYw"/>
            <ownedParameter xmi:id="_crgEobFyEeeCH50Lr9AhYw" name="params" type="_crMiobFyEeeCH50Lr9AhYw">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_crgEpLFyEeeCH50Lr9AhYw" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_crgEorFyEeeCH50Lr9AhYw" type="_crMiobFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_col6kLFyEeeCH50Lr9AhYw" name="TokenFactory">
          <ownedComment xmi:id="_csaqp7FyEeeCH50Lr9AhYw">
            <body>Concrete factory to create tokens</body>
          </ownedComment>
          <ownedAttribute xmi:id="_cr34ErFyEeeCH50Lr9AhYw" name="Singleton" isLeaf="true" isStatic="true" type="_col6kLFyEeeCH50Lr9AhYw" isReadOnly="true" association="_cswo47FyEeeCH50Lr9AhYw">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr34E7FyEeeCH50Lr9AhYw" value="new TokenFactory()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_cq0IILFyEeeCH50Lr9AhYw" client="_col6kLFyEeeCH50Lr9AhYw" supplier="_cokFYLFyEeeCH50Lr9AhYw" contract="_cokFYLFyEeeCH50Lr9AhYw"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csPrgLFyEeeCH50Lr9AhYw" name="makeToken" specification="_comhorFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_csPrgbFyEeeCH50Lr9AhYw" name="name">
              <eAnnotations xmi:id="_csPrgrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_csPrg7FyEeeCH50Lr9AhYw" key="final"/>
              </eAnnotations>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csPrhLFyEeeCH50Lr9AhYw" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_csPrhbFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
            <language>java</language>
            <body>return new Token(name, lexeme);
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_col6kbFyEeeCH50Lr9AhYw" name="TokenFactory" visibility="private">
            <eAnnotations xmi:id="_col6krFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_col6k7FyEeeCH50Lr9AhYw" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_comhobFyEeeCH50Lr9AhYw" type="_col6kLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_comhorFyEeeCH50Lr9AhYw" name="makeToken" method="_csPrgLFyEeeCH50Lr9AhYw">
            <ownedParameter xmi:id="_comho7FyEeeCH50Lr9AhYw" name="name">
              <eAnnotations xmi:id="_conIsLFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_conIsbFyEeeCH50Lr9AhYw" key="final"/>
              </eAnnotations>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_comhpLFyEeeCH50Lr9AhYw" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_cq0IIbFyEeeCH50Lr9AhYw" type="_cokFZLFyEeeCH50Lr9AhYw" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cswB07FyEeeCH50Lr9AhYw" name="" memberEnd="_cswB1LFyEeeCH50Lr9AhYw _cr2p8bFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cswB1LFyEeeCH50Lr9AhYw" name="" type="_cohCELFyEeeCH50Lr9AhYw" association="_cswB07FyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cswo4LFyEeeCH50Lr9AhYw" name="" memberEnd="_cswo4bFyEeeCH50Lr9AhYw _cr2p87FyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cswo4bFyEeeCH50Lr9AhYw" name="" type="_cohCELFyEeeCH50Lr9AhYw" association="_cswo4LFyEeeCH50Lr9AhYw"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_cswo47FyEeeCH50Lr9AhYw" name="" memberEnd="_cswo5LFyEeeCH50Lr9AhYw _cr34ErFyEeeCH50Lr9AhYw">
          <ownedEnd xmi:id="_cswo5LFyEeeCH50Lr9AhYw" name="" type="_col6kLFyEeeCH50Lr9AhYw" association="_cswo47FyEeeCH50Lr9AhYw"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_cmawUbFyEeeCH50Lr9AhYw" name="view">
      <packagedElement xmi:type="uml:Interface" xmi:id="_cofz8LFyEeeCH50Lr9AhYw" name="IView2ModelControlAdapter">
        <ownedComment xmi:id="_csaDlLFyEeeCH50Lr9AhYw">
          <body>@author Alexander Hansen
@author Yiqing Lu
The IView2ModelControlAdapter interface</body>
        </ownedComment>
        <ownedOperation xmi:id="_cogbALFyEeeCH50Lr9AhYw" name="loadFile">
          <ownedComment xmi:id="_csaDlbFyEeeCH50Lr9AhYw">
            <body>load the given file.
	 * @return the music file content</body>
          </ownedComment>
          <ownedParameter xmi:id="_cogbAbFyEeeCH50Lr9AhYw" name="filename">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <ownedParameter xmi:id="_cogbArFyEeeCH50Lr9AhYw" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_cogbA7FyEeeCH50Lr9AhYw" name="parseFile">
          <ownedComment xmi:id="_csaDlrFyEeeCH50Lr9AhYw">
            <body>parse the given file.
	 * @return the parse result</body>
          </ownedComment>
          <ownedParameter xmi:id="_cogbBLFyEeeCH50Lr9AhYw" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_cogbBbFyEeeCH50Lr9AhYw" name="playFile">
          <ownedComment xmi:id="_csaDl7FyEeeCH50Lr9AhYw">
            <body>play the loaded file.</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_cogbBrFyEeeCH50Lr9AhYw" name="stopFile">
          <ownedComment xmi:id="_csaDmLFyEeeCH50Lr9AhYw">
            <body>stop the given file.</body>
          </ownedComment>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_co3nYLFyEeeCH50Lr9AhYw" name="MusicPlayerView">
        <ownedComment xmi:id="_cscf0bFyEeeCH50Lr9AhYw">
          <body>@author Alexander Hansen
@author Yiqing Lu
The player GUI class</body>
        </ownedComment>
        <generalization xmi:id="_crkWEbFyEeeCH50Lr9AhYw" general="_cq_uUbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_cr_z4LFyEeeCH50Lr9AhYw" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_cr_z4bFyEeeCH50Lr9AhYw" value="432253693325539503L"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_cr_z4rFyEeeCH50Lr9AhYw" name="contentPane" visibility="private" type="_crAVYLFyEeeCH50Lr9AhYw" association="_cs06UbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csAa8bFyEeeCH50Lr9AhYw" name="txtFile" visibility="private" type="_crA8cbFyEeeCH50Lr9AhYw" association="_cs1hYbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csAa87FyEeeCH50Lr9AhYw" name="panelControls" visibility="private" type="_crAVYLFyEeeCH50Lr9AhYw" association="_cs2IcLFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csAa9bFyEeeCH50Lr9AhYw" name="lblFile" visibility="private" type="_crAVZLFyEeeCH50Lr9AhYw" association="_cs2Ic7FyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csBCAbFyEeeCH50Lr9AhYw" name="btnLoad" visibility="private" type="_crA8c7FyEeeCH50Lr9AhYw" association="_cs2IdrFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csBCA7FyEeeCH50Lr9AhYw" name="btnParse" visibility="private" type="_crA8c7FyEeeCH50Lr9AhYw" association="_cs2vgbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csBCBbFyEeeCH50Lr9AhYw" name="comboBoxInstruments" visibility="private" type="_crBjgbFyEeeCH50Lr9AhYw" association="_cs2vhLFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csBpErFyEeeCH50Lr9AhYw" name="btnPlay" visibility="private" type="_crA8c7FyEeeCH50Lr9AhYw" association="_cs3WkbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csBpFLFyEeeCH50Lr9AhYw" name="_iView2Model" visibility="private" type="_cofz8LFyEeeCH50Lr9AhYw" association="_cs3WlLFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csCQIbFyEeeCH50Lr9AhYw" name="splitPane" visibility="private" type="_crBjg7FyEeeCH50Lr9AhYw" association="_cs39obFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csCQI7FyEeeCH50Lr9AhYw" name="scrollPane_file" visibility="private" type="_crCKlbFyEeeCH50Lr9AhYw" association="_cs39pLFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csC3MLFyEeeCH50Lr9AhYw" name="scrollPane_parse" visibility="private" type="_crCKlbFyEeeCH50Lr9AhYw" association="_cs4ksbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csC3MrFyEeeCH50Lr9AhYw" name="textPane_file" visibility="private" type="_crDYsbFyEeeCH50Lr9AhYw" association="_cs4ktLFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csC3NLFyEeeCH50Lr9AhYw" name="textPane_parse" visibility="private" type="_crDYsbFyEeeCH50Lr9AhYw" association="_cs5LwbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_csC3NrFyEeeCH50Lr9AhYw" name="btnStop" visibility="private" type="_crA8c7FyEeeCH50Lr9AhYw" association="_cs5LxLFyEeeCH50Lr9AhYw"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csT88LFyEeeCH50Lr9AhYw" name="MusicPlayerView" specification="_crD_wLFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csT88bFyEeeCH50Lr9AhYw" name="iView2Model" type="_cofz8LFyEeeCH50Lr9AhYw"/>
          <ownedParameter xmi:id="_csT88rFyEeeCH50Lr9AhYw" type="_co3nYLFyEeeCH50Lr9AhYw" direction="return">
            <name xsi:nil="true"/>
          </ownedParameter>
          <language>java</language>
          <body>setMinimumSize(new Dimension(600, 0));

		_iView2Model = iView2Model;
		init();
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csT887FyEeeCH50Lr9AhYw" name="init" specification="_co41gLFyEeeCH50Lr9AhYw">
          <language>java</language>
          <body>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 667, 454);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		contentPane.setLayout(new BorderLayout(0, 0));
		setContentPane(contentPane);

		panelControls = new JPanel();
		panelControls.setBackground(Color.LIGHT_GRAY);
		panelControls.setToolTipText(&quot;Panel containing all the controls\r\n&quot;);
		contentPane.add(panelControls, BorderLayout.NORTH);

		lblFile = new JLabel(&quot;File:&quot;);
		lblFile.setToolTipText(&quot;File Descriptior&quot;);
		panelControls.add(lblFile);

		txtFile = new JTextField();
		txtFile.setToolTipText(&quot;File to load.&quot;);
		txtFile.setText(&quot;File&quot;);
		panelControls.add(txtFile);
		txtFile.setColumns(10);

		btnLoad = new JButton(&quot;Load&quot;);
		btnLoad.setToolTipText(&quot;Loads the indicated file\r\n&quot;);
		panelControls.add(btnLoad);
		btnLoad.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				btnParse.setEnabled(true);
				textPane_file.setText(_iView2Model.loadFile(txtFile.getText()));
			}
		});

		btnParse = new JButton(&quot;Parse&quot;);
		btnParse.setEnabled(false);

		btnParse.setToolTipText(&quot;Parses the selected file\r\n&quot;);
		panelControls.add(btnParse);
		btnParse.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent e) {
				textPane_parse.setText(_iView2Model.parseFile());
			}
		});

		comboBoxInstruments = new JComboBox&lt;TInst>();
		comboBoxInstruments.setToolTipText(&quot;The avalible instruments to choose from - please pick one&quot;);
		panelControls.add(comboBoxInstruments);
		for (TInst i : getInstruments())
			comboBoxInstruments.addItem(i);

		btnPlay = new JButton(&quot;Play&quot;);
		btnPlay.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				_iView2Model.playFile();
			}
		});
		btnPlay.setToolTipText(&quot;Plays the file, once it is loaded&quot;);
		panelControls.add(btnPlay);

		btnStop = new JButton(&quot;Stop&quot;);
		btnStop.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				_iView2Model.stopFile();
			}
		});
		btnStop.setToolTipText(&quot;Stop playing the music&quot;);
		panelControls.add(btnStop);

		splitPane = new JSplitPane();
		splitPane.setResizeWeight(0.5);
		splitPane.setOrientation(JSplitPane.VERTICAL_SPLIT);
		contentPane.add(splitPane, BorderLayout.CENTER);

		scrollPane_file = new JScrollPane();
		scrollPane_file.setViewportBorder(new TitledBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null),
				&quot;File Content&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, new Color(0, 0, 0)));
		splitPane.setLeftComponent(scrollPane_file);

		textPane_file = new JTextPane();
		scrollPane_file.setViewportView(textPane_file);

		scrollPane_parse = new JScrollPane();
		scrollPane_parse.setViewportBorder(
				new TitledBorder(null, &quot;Parsed IPhrase Structure&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));
		splitPane.setRightComponent(scrollPane_parse);

		textPane_parse = new JTextPane();
		scrollPane_parse.setViewportView(textPane_parse);
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csT89LFyEeeCH50Lr9AhYw" name="getInstruments" specification="_co41gbFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csT89bFyEeeCH50Lr9AhYw" type="_cq_HQ7FyEeeCH50Lr9AhYw" direction="return">
            <name xsi:nil="true"/>
          </ownedParameter>
          <language>java</language>
          <body>ArrayList&lt;TInst> instruments = new ArrayList&lt;TInst>();
		instruments.add((TInst) (new ABCInstrument(&quot;Piano 1&quot;, 0)));
		instruments.add((TInst) (new ABCInstrument(&quot;Bright Acoustic Piano&quot;, 1)));
		instruments.add((TInst) (new ABCInstrument(&quot;Harpsichord&quot;, 6)));
		instruments.add((TInst) (new ABCInstrument(&quot;Clavi&quot;, 7)));
		instruments.add((TInst) (new ABCInstrument(&quot;Music Box&quot;, 10)));
		instruments.add((TInst) (new ABCInstrument(&quot;Harmonica&quot;, 22)));
		return instruments;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csT89rFyEeeCH50Lr9AhYw" name="getSelectedInstrumentIndex" specification="_co6DobFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csT897FyEeeCH50Lr9AhYw" direction="return">
            <name xsi:nil="true"/>
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
          <language>java</language>
          <body>ABCInstrument i = (ABCInstrument) comboBoxInstruments.getSelectedItem();
		return i.getValue();
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csT8-LFyEeeCH50Lr9AhYw" name="start" specification="_co6Do7FyEeeCH50Lr9AhYw">
          <language>java</language>
          <body>setVisible(true);
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_co41gLFyEeeCH50Lr9AhYw" name="init" method="_csT887FyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_cscf07FyEeeCH50Lr9AhYw">
            <body>initiates the frame.</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_co41gbFyEeeCH50Lr9AhYw" name="getInstruments" method="_csT89LFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_crkWELFyEeeCH50Lr9AhYw" type="_cq_HQ7FyEeeCH50Lr9AhYw" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_co6DobFyEeeCH50Lr9AhYw" name="getSelectedInstrumentIndex" method="_csT89rFyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_cscf1bFyEeeCH50Lr9AhYw">
            <body>returns the index of the selected instrument of the combo box
	 * @return return the number of the instrument</body>
          </ownedComment>
          <ownedParameter xmi:id="_co6DorFyEeeCH50Lr9AhYw" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_co6Do7FyEeeCH50Lr9AhYw" name="start" method="_csT8-LFyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_cscf1rFyEeeCH50Lr9AhYw">
            <body>starts the view</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_crD_wLFyEeeCH50Lr9AhYw" name="MusicPlayerView" method="_csT88LFyEeeCH50Lr9AhYw">
          <eAnnotations xmi:id="_crD_wrFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_crD_w7FyEeeCH50Lr9AhYw" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_cscf0rFyEeeCH50Lr9AhYw">
            <body>Create the frame.
	 * @param iView2Model view to model adapter</body>
          </ownedComment>
          <ownedParameter xmi:id="_crD_wbFyEeeCH50Lr9AhYw" name="iView2Model" type="_cofz8LFyEeeCH50Lr9AhYw"/>
          <ownedParameter xmi:id="_crD_xLFyEeeCH50Lr9AhYw" type="_co3nYLFyEeeCH50Lr9AhYw" direction="return"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs06UbFyEeeCH50Lr9AhYw" name="" memberEnd="_cs06UrFyEeeCH50Lr9AhYw _cr_z4rFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs06UrFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs06UbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs1hYbFyEeeCH50Lr9AhYw" name="" memberEnd="_cs1hYrFyEeeCH50Lr9AhYw _csAa8bFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs1hYrFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs1hYbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs2IcLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs2IcbFyEeeCH50Lr9AhYw _csAa87FyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs2IcbFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs2IcLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs2Ic7FyEeeCH50Lr9AhYw" name="" memberEnd="_cs2IdLFyEeeCH50Lr9AhYw _csAa9bFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs2IdLFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs2Ic7FyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs2IdrFyEeeCH50Lr9AhYw" name="" memberEnd="_cs2Id7FyEeeCH50Lr9AhYw _csBCAbFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs2Id7FyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs2IdrFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs2vgbFyEeeCH50Lr9AhYw" name="" memberEnd="_cs2vgrFyEeeCH50Lr9AhYw _csBCA7FyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs2vgrFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs2vgbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs2vhLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs2vhbFyEeeCH50Lr9AhYw _csBCBbFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs2vhbFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs2vhLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs3WkbFyEeeCH50Lr9AhYw" name="" memberEnd="_cs3WkrFyEeeCH50Lr9AhYw _csBpErFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs3WkrFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs3WkbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs3WlLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs3WlbFyEeeCH50Lr9AhYw _csBpFLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs3WlbFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs3WlLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs39obFyEeeCH50Lr9AhYw" name="" memberEnd="_cs39orFyEeeCH50Lr9AhYw _csCQIbFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs39orFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs39obFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs39pLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs39pbFyEeeCH50Lr9AhYw _csCQI7FyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs39pbFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs39pLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs4ksbFyEeeCH50Lr9AhYw" name="" memberEnd="_cs4ksrFyEeeCH50Lr9AhYw _csC3MLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs4ksrFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs4ksbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs4ktLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs4ktbFyEeeCH50Lr9AhYw _csC3MrFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs4ktbFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs4ktLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs5LwbFyEeeCH50Lr9AhYw" name="" memberEnd="_cs5LwrFyEeeCH50Lr9AhYw _csC3NLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs5LwrFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs5LwbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cs5LxLFyEeeCH50Lr9AhYw" name="" memberEnd="_cs5LxbFyEeeCH50Lr9AhYw _csC3NrFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cs5LxbFyEeeCH50Lr9AhYw" name="" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cs5LxLFyEeeCH50Lr9AhYw"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_cmbXYLFyEeeCH50Lr9AhYw" name="controller">
      <packagedElement xmi:type="uml:Class" xmi:id="_cn2TsLFyEeeCH50Lr9AhYw" name="MusicPlayerController">
        <ownedComment xmi:id="_csVyILFyEeeCH50Lr9AhYw">
          <body>@author Alexander Hansen
@author Yiqing Lu
The Controller class</body>
        </ownedComment>
        <ownedAttribute xmi:id="_crongLFyEeeCH50Lr9AhYw" name="musicPlayerModel" visibility="private" type="_cn5XALFyEeeCH50Lr9AhYw" association="_cslCsbFyEeeCH50Lr9AhYw"/>
        <ownedAttribute xmi:id="_crpOkLFyEeeCH50Lr9AhYw" name="musicPlayerView" visibility="private" type="_co3nYLFyEeeCH50Lr9AhYw" association="_cslpwbFyEeeCH50Lr9AhYw"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csEsYLFyEeeCH50Lr9AhYw" name="MusicPlayerController" specification="_cn26wLFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csEsYbFyEeeCH50Lr9AhYw" type="_cn2TsLFyEeeCH50Lr9AhYw" direction="return"/>
          <language>java</language>
          <body>// set the view field
		musicPlayerView = new MusicPlayerView&lt;ABCInstrument>(new IView2ModelControlAdapter() {
			public String loadFile(String file) {
				return musicPlayerModel.loadFile(file);
			}

			public String parseFile() {
				return musicPlayerModel.parseFile();
			}

			public void playFile() {
				musicPlayerModel.playFile(musicPlayerView.getSelectedInstrumentIndex());
			}

			public void stopFile() {
				musicPlayerModel.stopFile();
			}
		});

		// set the model field
		musicPlayerModel = new MusicPlayerModel(new IModel2ViewAdapter() {
			public SequencePlayer2 getPlayer() {
				return musicPlayerModel.getPlayer();
			}

		});
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csEsYrFyEeeCH50Lr9AhYw" name="start" specification="_cn3h07FyEeeCH50Lr9AhYw">
          <language>java</language>
          <body>musicPlayerModel.start(); // It is usually better to start the model first but not always.
		musicPlayerView.start();
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_csEsY7FyEeeCH50Lr9AhYw" name="main" specification="_cn3h1LFyEeeCH50Lr9AhYw">
          <ownedParameter xmi:id="_csEsZLFyEeeCH50Lr9AhYw" name="args">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_csEsZbFyEeeCH50Lr9AhYw" value="*"/>
          </ownedParameter>
          <language>java</language>
          <body>EventQueue.invokeLater(new Runnable() { // Java specs say that the system must be constructed on the GUI event thread.
			public void run() {
				try {
					MusicPlayerController controller = new MusicPlayerController(); // instantiate the system
					controller.start(); // start the system
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_cn26wLFyEeeCH50Lr9AhYw" name="MusicPlayerController" method="_csEsYLFyEeeCH50Lr9AhYw">
          <eAnnotations xmi:id="_cn3h0LFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_cn3h0bFyEeeCH50Lr9AhYw" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_csVyIbFyEeeCH50Lr9AhYw">
            <body>Controller constructor builds the system</body>
          </ownedComment>
          <ownedParameter xmi:id="_cn3h0rFyEeeCH50Lr9AhYw" type="_cn2TsLFyEeeCH50Lr9AhYw" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_cn3h07FyEeeCH50Lr9AhYw" name="start" method="_csEsYrFyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_csVyIrFyEeeCH50Lr9AhYw">
            <body>Start the system</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_cn3h1LFyEeeCH50Lr9AhYw" name="main" isStatic="true" method="_csEsY7FyEeeCH50Lr9AhYw">
          <ownedComment xmi:id="_csWZMLFyEeeCH50Lr9AhYw">
            <body>Launch the application.
	 * @param args Arguments given by the system or command line.</body>
          </ownedComment>
          <ownedParameter xmi:id="_cn3h1bFyEeeCH50Lr9AhYw" name="args">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_cn4I4LFyEeeCH50Lr9AhYw" value="*"/>
          </ownedParameter>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cslCsbFyEeeCH50Lr9AhYw" name="" memberEnd="_cslCsrFyEeeCH50Lr9AhYw _crongLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cslCsrFyEeeCH50Lr9AhYw" name="" type="_cn2TsLFyEeeCH50Lr9AhYw" association="_cslCsbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_cslpwbFyEeeCH50Lr9AhYw" name="" memberEnd="_cslpwrFyEeeCH50Lr9AhYw _crpOkLFyEeeCH50Lr9AhYw">
        <ownedEnd xmi:id="_cslpwrFyEeeCH50Lr9AhYw" name="" type="_cn2TsLFyEeeCH50Lr9AhYw" association="_cslpwbFyEeeCH50Lr9AhYw"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_cmtrQLFyEeeCH50Lr9AhYw" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_cmtrQbFyEeeCH50Lr9AhYw" name="sound">
        <packagedElement xmi:type="uml:Package" xmi:id="_cmuSULFyEeeCH50Lr9AhYw" name="midi">
          <packagedElement xmi:type="uml:Class" xmi:id="_cq5nsLFyEeeCH50Lr9AhYw" name="Instrument"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_cq6OwbFyEeeCH50Lr9AhYw" name="MidiSystem"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_cq6Ow7FyEeeCH50Lr9AhYw" name="MidiUnavailableException"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_cq610bFyEeeCH50Lr9AhYw" name="Synthesizer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_crZW9LFyEeeCH50Lr9AhYw" name="Sequence"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_crZ-AbFyEeeCH50Lr9AhYw" name="Track"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_cralEbFyEeeCH50Lr9AhYw" name="Sequencer"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_cnJwIbFyEeeCH50Lr9AhYw" name="swing">
        <packagedElement xmi:type="uml:Package" xmi:id="_cnJwIrFyEeeCH50Lr9AhYw" name="border">
          <packagedElement xmi:type="uml:Class" xmi:id="_crAVYrFyEeeCH50Lr9AhYw" name="EmptyBorder"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_crCKk7FyEeeCH50Lr9AhYw" name="TitledBorder"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_crCxobFyEeeCH50Lr9AhYw" name="EtchedBorder"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_cq_uUbFyEeeCH50Lr9AhYw" name="JFrame"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crAVYLFyEeeCH50Lr9AhYw" name="JPanel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crAVZLFyEeeCH50Lr9AhYw" name="JLabel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crA8cbFyEeeCH50Lr9AhYw" name="JTextField"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crA8c7FyEeeCH50Lr9AhYw" name="JButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crBjgbFyEeeCH50Lr9AhYw" name="JComboBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crBjg7FyEeeCH50Lr9AhYw" name="JSplitPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crCKlbFyEeeCH50Lr9AhYw" name="JScrollPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_crDYsbFyEeeCH50Lr9AhYw" name="JTextPane"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_cSr8ALFyEeeCH50Lr9AhYw">
      <eAnnotations xmi:id="_cSr8AbFyEeeCH50Lr9AhYw" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_cSr8ArFyEeeCH50Lr9AhYw" base_Package="_cDQ_8LFyEeeCH50Lr9AhYw">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cn5-ELFyEeeCH50Lr9AhYw" base_Element="_cn5XAbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_coDIA7FyEeeCH50Lr9AhYw" base_Element="_coDIALFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_coE9MrFyEeeCH50Lr9AhYw" base_Element="_coE9MLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_coE9M7FyEeeCH50Lr9AhYw" base_Element="_coE9MLFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_coE9NLFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_coKcw7FyEeeCH50Lr9AhYw" base_Element="_coKcwLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_coRxgLFyEeeCH50Lr9AhYw" base_Element="_coRKcLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_coS_o7FyEeeCH50Lr9AhYw" base_Element="_coS_oLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_coUNwrFyEeeCH50Lr9AhYw" base_Element="_coUNwLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_coU00LFyEeeCH50Lr9AhYw" base_Element="_coUNwLFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_coU00bFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_comhoLFyEeeCH50Lr9AhYw" base_Element="_col6kbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_coqzErFyEeeCH50Lr9AhYw" base_Element="_coqzEbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:StyledElement xmi:id="_coraILFyEeeCH50Lr9AhYw" base_Element="_coqzE7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cosoQLFyEeeCH50Lr9AhYw" base_Element="_cosBNbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_cosoQbFyEeeCH50Lr9AhYw" base_Element="_cosBNbFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_cosoQrFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cosoRbFyEeeCH50Lr9AhYw" base_Element="_cosoQ7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_cosoRrFyEeeCH50Lr9AhYw" base_Element="_cosoQ7FyEeeCH50Lr9AhYw">
    <annotations xmi:id="_cosoR7FyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_covEg7FyEeeCH50Lr9AhYw" base_Element="_covEgLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_covrmrFyEeeCH50Lr9AhYw" base_Element="_covrl7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_co4OcLFyEeeCH50Lr9AhYw" genericsValue="TInst" base_Element="_co3nYLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_co5ckLFyEeeCH50Lr9AhYw" genericsValue="TInst" base_Element="_co41gbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_co5ckbFyEeeCH50Lr9AhYw" base_Element="_co41gbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_co5ckrFyEeeCH50Lr9AhYw" base_Element="_co41gbFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_co5ck7FyEeeCH50Lr9AhYw" name="SuppressWarnings">
      <annotationParameters xmi:id="_co6DoLFyEeeCH50Lr9AhYw" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_cscf1LFyEeeCH50Lr9AhYw" value="&quot;unchecked&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_cqeJ4bFyEeeCH50Lr9AhYw" base_Element="_cqeJ4LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cqfYAbFyEeeCH50Lr9AhYw" base_Element="_cqfYALFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cqjCYbFyEeeCH50Lr9AhYw" base_Element="_cqjCYLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cqjpcLFyEeeCH50Lr9AhYw" base_Element="_cqjCYrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cqleoLFyEeeCH50Lr9AhYw" base_Element="_cqk3kLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cqleo7FyEeeCH50Lr9AhYw" base_Element="_cqk3kbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cqnT0LFyEeeCH50Lr9AhYw" base_Element="_cqmswLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cqnT07FyEeeCH50Lr9AhYw" base_Element="_cqmswbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cqsMVbFyEeeCH50Lr9AhYw" base_Element="_cqsMUbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cqszYLFyEeeCH50Lr9AhYw" base_Element="_cqsMUrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cqszZrFyEeeCH50Lr9AhYw" base_Element="_cqszYrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cqtacbFyEeeCH50Lr9AhYw" base_Element="_cqszY7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cqtadLFyEeeCH50Lr9AhYw" base_Element="_cqtacrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cqtadrFyEeeCH50Lr9AhYw" base_Element="_cqtac7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cqvPpLFyEeeCH50Lr9AhYw" base_Element="_cqvPoLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cqvPp7FyEeeCH50Lr9AhYw" dimensions="1" base_Element="_cqvPobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:StyledElement xmi:id="_cq2kYrFyEeeCH50Lr9AhYw" base_Element="_cq2kYLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq2kZLFyEeeCH50Lr9AhYw" base_Element="_cq2kY7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq3LcLFyEeeCH50Lr9AhYw" base_Element="_cq2kZbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq3ygbFyEeeCH50Lr9AhYw" base_Element="_cq3ygLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq4ZkLFyEeeCH50Lr9AhYw" base_Element="_cq3ygrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq4ZkrFyEeeCH50Lr9AhYw" base_Element="_cq4ZkbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq4ZlLFyEeeCH50Lr9AhYw" base_Element="_cq4Zk7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq5AobFyEeeCH50Lr9AhYw" base_Element="_cq5AoLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq6OwLFyEeeCH50Lr9AhYw" base_Element="_cq5nsLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq6OwrFyEeeCH50Lr9AhYw" base_Element="_cq6OwbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq610LFyEeeCH50Lr9AhYw" base_Element="_cq6Ow7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq610rFyEeeCH50Lr9AhYw" base_Element="_cq610bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq-gMbFyEeeCH50Lr9AhYw" base_Element="_cq-gMLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq_HQLFyEeeCH50Lr9AhYw" base_Element="_cq-gMrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq_HQrFyEeeCH50Lr9AhYw" base_Element="_cq_HQbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq_uULFyEeeCH50Lr9AhYw" base_Element="_cq_HQ7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cq_uUrFyEeeCH50Lr9AhYw" base_Element="_cq_uUbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crAVYbFyEeeCH50Lr9AhYw" base_Element="_crAVYLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crAVY7FyEeeCH50Lr9AhYw" base_Element="_crAVYrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crA8cLFyEeeCH50Lr9AhYw" base_Element="_crAVZLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crA8crFyEeeCH50Lr9AhYw" base_Element="_crA8cbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crBjgLFyEeeCH50Lr9AhYw" base_Element="_crA8c7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crBjgrFyEeeCH50Lr9AhYw" base_Element="_crBjgbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crCKkLFyEeeCH50Lr9AhYw" base_Element="_crBjg7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crCKkrFyEeeCH50Lr9AhYw" base_Element="_crCKkbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crCKlLFyEeeCH50Lr9AhYw" base_Element="_crCKk7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crCxoLFyEeeCH50Lr9AhYw" base_Element="_crCKlbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crCxorFyEeeCH50Lr9AhYw" base_Element="_crCxobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crDYsLFyEeeCH50Lr9AhYw" base_Element="_crCxo7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crDYsrFyEeeCH50Lr9AhYw" base_Element="_crDYsbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crLUgbFyEeeCH50Lr9AhYw" base_Element="_crLUgLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crNJsLFyEeeCH50Lr9AhYw" base_Element="_crMiobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crNJtrFyEeeCH50Lr9AhYw" base_Element="_crNJsbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crNwwbFyEeeCH50Lr9AhYw" base_Element="_crNJtLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crOX07FyEeeCH50Lr9AhYw" base_Element="_crNwwrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crOX1bFyEeeCH50Lr9AhYw" base_Element="_crOX0bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crOX1rFyEeeCH50Lr9AhYw" base_Element="_crNwwrFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crOX17FyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crO-5LFyEeeCH50Lr9AhYw" base_Element="_crO-4LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crO-5rFyEeeCH50Lr9AhYw" base_Element="_crO-4rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crPl8LFyEeeCH50Lr9AhYw" base_Element="_crO-4LFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crPl8bFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crPl9rFyEeeCH50Lr9AhYw" base_Element="_crPl8rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crQNAbFyEeeCH50Lr9AhYw" base_Element="_crPl9LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crQNArFyEeeCH50Lr9AhYw" base_Element="_crPl8rFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crQNA7FyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crQ0FLFyEeeCH50Lr9AhYw" base_Element="_crQ0ELFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crQ0FrFyEeeCH50Lr9AhYw" dimensions="1" base_Element="_crQ0ErFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crQ0F7FyEeeCH50Lr9AhYw" base_Element="_crQ0ELFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crQ0GLFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crRbJLFyEeeCH50Lr9AhYw" base_Element="_crRbILFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crSCMLFyEeeCH50Lr9AhYw" base_Element="_crRbIrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crSCNrFyEeeCH50Lr9AhYw" base_Element="_crSCMbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crSCOLFyEeeCH50Lr9AhYw" base_Element="_crSCNLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crSpRbFyEeeCH50Lr9AhYw" base_Element="_crSpQLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crSpR7FyEeeCH50Lr9AhYw" base_Element="_crSpQ7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crTQVLFyEeeCH50Lr9AhYw" base_Element="_crTQULFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crTQVrFyEeeCH50Lr9AhYw" base_Element="_crTQUrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crT3YLFyEeeCH50Lr9AhYw" base_Element="_crTQULFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crT3YbFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crUecLFyEeeCH50Lr9AhYw" base_Element="_crT3YrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crUecrFyEeeCH50Lr9AhYw" base_Element="_crT3ZLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crUec7FyEeeCH50Lr9AhYw" base_Element="_crT3YrFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crUedLFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crVFhLFyEeeCH50Lr9AhYw" base_Element="_crVFgLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crVskLFyEeeCH50Lr9AhYw" base_Element="_crVFgrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crVskbFyEeeCH50Lr9AhYw" base_Element="_crVFgLFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crVskrFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crWTpLFyEeeCH50Lr9AhYw" base_Element="_crWToLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crWTprFyEeeCH50Lr9AhYw" base_Element="_crWTorFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crWTp7FyEeeCH50Lr9AhYw" base_Element="_crWToLFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crWTqLFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crXhwLFyEeeCH50Lr9AhYw" base_Element="_crW6sLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crYI0LFyEeeCH50Lr9AhYw" base_Element="_crW6srFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crYI0bFyEeeCH50Lr9AhYw" base_Element="_crW6sLFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crYI0rFyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crYv5LFyEeeCH50Lr9AhYw" base_Element="_crYv4LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crZW8bFyEeeCH50Lr9AhYw" base_Element="_crYv4rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Annotations xmi:id="_crZW8rFyEeeCH50Lr9AhYw" base_Element="_crYv4LFyEeeCH50Lr9AhYw">
    <annotations xmi:id="_crZW87FyEeeCH50Lr9AhYw" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_crZ-ALFyEeeCH50Lr9AhYw" base_Element="_crZW9LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cralELFyEeeCH50Lr9AhYw" base_Element="_crZ-AbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cralErFyEeeCH50Lr9AhYw" base_Element="_cralEbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crcaQbFyEeeCH50Lr9AhYw" base_Element="_crbzMLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crcaQ7FyEeeCH50Lr9AhYw" base_Element="_crbzM7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cre2gbFyEeeCH50Lr9AhYw" base_Element="_crePcLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cre2g7FyEeeCH50Lr9AhYw" base_Element="_crePc7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crfdkbFyEeeCH50Lr9AhYw" base_Element="_cre2hLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crfdk7FyEeeCH50Lr9AhYw" base_Element="_cre2h7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crgEo7FyEeeCH50Lr9AhYw" base_Element="_crfdlLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_crgEpbFyEeeCH50Lr9AhYw" base_Element="_crgEobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crgrsbFyEeeCH50Lr9AhYw" base_Element="_crgrsLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_crig4LFyEeeCH50Lr9AhYw" base_Element="_crh50LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crongbFyEeeCH50Lr9AhYw" base_Element="_crongLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_crpOkbFyEeeCH50Lr9AhYw" genericsValue="ABCInstrument" base_Element="_crpOkLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crpOkrFyEeeCH50Lr9AhYw" base_Element="_crpOkLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crp1obFyEeeCH50Lr9AhYw" base_Element="_crp1oLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crp1o7FyEeeCH50Lr9AhYw" base_Element="_crp1orFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crp1pbFyEeeCH50Lr9AhYw" base_Element="_crp1pLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crqcsbFyEeeCH50Lr9AhYw" base_Element="_crqcsLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crqcs7FyEeeCH50Lr9AhYw" base_Element="_crqcsrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crrDwLFyEeeCH50Lr9AhYw" base_Element="_crqctLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_crrDwrFyEeeCH50Lr9AhYw" genericsValue="DecoratorSeqList" base_Element="_crrDwbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crrq0LFyEeeCH50Lr9AhYw" base_Element="_crrDwbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_crrq0rFyEeeCH50Lr9AhYw" genericsValue="DecoratorSeqList" base_Element="_crrq0bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crsR4bFyEeeCH50Lr9AhYw" base_Element="_crrq0bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crsR5LFyEeeCH50Lr9AhYw" base_Element="_crsR4rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crs48bFyEeeCH50Lr9AhYw" base_Element="_crsR5bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crs49LFyEeeCH50Lr9AhYw" base_Element="_crs48rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crs497FyEeeCH50Lr9AhYw" base_Element="_crs49bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crtgArFyEeeCH50Lr9AhYw" base_Element="_crtgALFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crtgBbFyEeeCH50Lr9AhYw" base_Element="_crtgA7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cruHELFyEeeCH50Lr9AhYw" base_Element="_crtgBrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cruHErFyEeeCH50Lr9AhYw" base_Element="_cruHEbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cruHFbFyEeeCH50Lr9AhYw" base_Element="_cruHE7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crvVMLFyEeeCH50Lr9AhYw" base_Element="_cruuI7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crvVM7FyEeeCH50Lr9AhYw" base_Element="_crvVMbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crv8QbFyEeeCH50Lr9AhYw" base_Element="_crv8QLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crv8Q7FyEeeCH50Lr9AhYw" base_Element="_crv8QrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crwjVrFyEeeCH50Lr9AhYw" base_Element="_crwjVbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crxKYLFyEeeCH50Lr9AhYw" base_Element="_crwjV7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crxKYrFyEeeCH50Lr9AhYw" base_Element="_crxKYbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cryYhLFyEeeCH50Lr9AhYw" base_Element="_cryYgrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cry_kLFyEeeCH50Lr9AhYw" dimensions="1" base_Element="_cryYhbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cry_kbFyEeeCH50Lr9AhYw" base_Element="_cryYhbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cry_lLFyEeeCH50Lr9AhYw" dimensions="1" base_Element="_cry_krFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cry_lrFyEeeCH50Lr9AhYw" base_Element="_cry_krFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_crzmorFyEeeCH50Lr9AhYw" base_Element="_crzmoLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr0NsrFyEeeCH50Lr9AhYw" base_Element="_cr0NsbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr0NtLFyEeeCH50Lr9AhYw" base_Element="_cr0Ns7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr00wrFyEeeCH50Lr9AhYw" base_Element="_cr00wbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr00xLFyEeeCH50Lr9AhYw" base_Element="_cr00w7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr00xrFyEeeCH50Lr9AhYw" base_Element="_cr00xbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr1b0LFyEeeCH50Lr9AhYw" base_Element="_cr00x7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr1b0rFyEeeCH50Lr9AhYw" base_Element="_cr1b0bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr1b1LFyEeeCH50Lr9AhYw" base_Element="_cr1b07FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr2C4LFyEeeCH50Lr9AhYw" base_Element="_cr1b1bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr2C4rFyEeeCH50Lr9AhYw" base_Element="_cr2C4bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cr2C5bFyEeeCH50Lr9AhYw" base_Element="_cr2C47FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr2p8rFyEeeCH50Lr9AhYw" base_Element="_cr2p8bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr3RAbFyEeeCH50Lr9AhYw" base_Element="_cr2p87FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr3RBLFyEeeCH50Lr9AhYw" base_Element="_cr3RA7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr34EbFyEeeCH50Lr9AhYw" base_Element="_cr34ELFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr4fILFyEeeCH50Lr9AhYw" base_Element="_cr34FLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr4fJLFyEeeCH50Lr9AhYw" base_Element="_cr4fIrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_cr5GMLFyEeeCH50Lr9AhYw" genericsValue="Map&lt;String, String>" base_Element="_cr4fJrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr5GMrFyEeeCH50Lr9AhYw" base_Element="_cr4fJrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr5tQLFyEeeCH50Lr9AhYw" base_Element="_cr5GM7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_cr5tQrFyEeeCH50Lr9AhYw" genericsValue="Token" base_Element="_cr5tQbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr5tRLFyEeeCH50Lr9AhYw" base_Element="_cr5tQbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_cr67YLFyEeeCH50Lr9AhYw" genericsValue="String" base_Element="_cr6UUrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr67YrFyEeeCH50Lr9AhYw" base_Element="_cr6UUrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr67ZLFyEeeCH50Lr9AhYw" base_Element="_cr67Y7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr67ZrFyEeeCH50Lr9AhYw" base_Element="_cr67ZbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cr8JgbFyEeeCH50Lr9AhYw" base_Element="_cr7idLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cr8JhbFyEeeCH50Lr9AhYw" base_Element="_cr8Jg7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr8JiLFyEeeCH50Lr9AhYw" base_Element="_cr8Jh7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr8wkLFyEeeCH50Lr9AhYw" base_Element="_cr8JibFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr8wk7FyEeeCH50Lr9AhYw" base_Element="_cr8wkbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cr8wl7FyEeeCH50Lr9AhYw" base_Element="_cr8wlbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr9XoLFyEeeCH50Lr9AhYw" base_Element="_cr8wlbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cr9Xo7FyEeeCH50Lr9AhYw" base_Element="_cr9XobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr9XpbFyEeeCH50Lr9AhYw" base_Element="_cr9XobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr9-s7FyEeeCH50Lr9AhYw" base_Element="_cr9-srFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr-lwLFyEeeCH50Lr9AhYw" base_Element="_cr9-tLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr-lwrFyEeeCH50Lr9AhYw" base_Element="_cr-lwbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr-lxLFyEeeCH50Lr9AhYw" base_Element="_cr-lw7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr_M0LFyEeeCH50Lr9AhYw" base_Element="_cr-lxbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_cr_M0rFyEeeCH50Lr9AhYw" base_Element="_cr_M0bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Array xmi:id="_cr_M17FyEeeCH50Lr9AhYw" base_Element="_cr_M07FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csAa8LFyEeeCH50Lr9AhYw" base_Element="_cr_z4rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csAa8rFyEeeCH50Lr9AhYw" base_Element="_csAa8bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csAa9LFyEeeCH50Lr9AhYw" base_Element="_csAa87FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csBCALFyEeeCH50Lr9AhYw" base_Element="_csAa9bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csBCArFyEeeCH50Lr9AhYw" base_Element="_csBCAbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csBCBLFyEeeCH50Lr9AhYw" base_Element="_csBCA7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Generics xmi:id="_csBpELFyEeeCH50Lr9AhYw" genericsValue="TInst" base_Element="_csBCBbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csBpEbFyEeeCH50Lr9AhYw" base_Element="_csBCBbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csBpE7FyEeeCH50Lr9AhYw" base_Element="_csBpErFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csCQILFyEeeCH50Lr9AhYw" base_Element="_csBpFLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csCQIrFyEeeCH50Lr9AhYw" base_Element="_csCQIbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csCQJLFyEeeCH50Lr9AhYw" base_Element="_csCQI7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csC3MbFyEeeCH50Lr9AhYw" base_Element="_csC3MLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csC3M7FyEeeCH50Lr9AhYw" base_Element="_csC3MrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csC3NbFyEeeCH50Lr9AhYw" base_Element="_csC3NLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_csDeQLFyEeeCH50Lr9AhYw" base_Element="_csC3NrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csj0kLFyEeeCH50Lr9AhYw" base_Element="_csjNgLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csj0k7FyEeeCH50Lr9AhYw" base_Element="_csj0kbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cskborFyEeeCH50Lr9AhYw" base_Element="_cskboLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cslCsLFyEeeCH50Lr9AhYw" base_Element="_cskbo7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cslpwLFyEeeCH50Lr9AhYw" base_Element="_cslCsbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csmQ0LFyEeeCH50Lr9AhYw" base_Element="_cslpwbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csm34LFyEeeCH50Lr9AhYw" base_Element="_csmQ0bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csm347FyEeeCH50Lr9AhYw" base_Element="_csm34bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csne8rFyEeeCH50Lr9AhYw" base_Element="_csne8LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csoGALFyEeeCH50Lr9AhYw" base_Element="_csne87FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csotELFyEeeCH50Lr9AhYw" base_Element="_csoGAbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csotE7FyEeeCH50Lr9AhYw" base_Element="_csotEbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cspUILFyEeeCH50Lr9AhYw" base_Element="_csotFLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csp7MLFyEeeCH50Lr9AhYw" base_Element="_cspUIbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csqiQLFyEeeCH50Lr9AhYw" base_Element="_csp7MbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csqiQ7FyEeeCH50Lr9AhYw" base_Element="_csqiQbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csrJUrFyEeeCH50Lr9AhYw" base_Element="_csrJULFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csrwYLFyEeeCH50Lr9AhYw" base_Element="_csrJU7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csrwY7FyEeeCH50Lr9AhYw" base_Element="_csrwYbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cssXcbFyEeeCH50Lr9AhYw" base_Element="_csrwZLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cssXdLFyEeeCH50Lr9AhYw" base_Element="_cssXcrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_css-gLFyEeeCH50Lr9AhYw" base_Element="_cssXdbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_css-g7FyEeeCH50Lr9AhYw" base_Element="_css-gbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cstlkLFyEeeCH50Lr9AhYw" base_Element="_css-hLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cstlk7FyEeeCH50Lr9AhYw" base_Element="_cstlkbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csuMoLFyEeeCH50Lr9AhYw" base_Element="_cstllLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csuzsLFyEeeCH50Lr9AhYw" base_Element="_csuMobFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csuzs7FyEeeCH50Lr9AhYw" base_Element="_csuzsbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csvawLFyEeeCH50Lr9AhYw" base_Element="_csuztLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csvaw7FyEeeCH50Lr9AhYw" base_Element="_csvawbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csvaxrFyEeeCH50Lr9AhYw" base_Element="_csvaxLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cswB0rFyEeeCH50Lr9AhYw" base_Element="_cswB0LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cswB1bFyEeeCH50Lr9AhYw" base_Element="_cswB07FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cswo4rFyEeeCH50Lr9AhYw" base_Element="_cswo4LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cswo5bFyEeeCH50Lr9AhYw" base_Element="_cswo47FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csxP8LFyEeeCH50Lr9AhYw" base_Element="_cswo5rFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csxP87FyEeeCH50Lr9AhYw" base_Element="_csxP8bFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csx3ALFyEeeCH50Lr9AhYw" base_Element="_csxP9LFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csx3A7FyEeeCH50Lr9AhYw" base_Element="_csx3AbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csx3BrFyEeeCH50Lr9AhYw" base_Element="_csx3BLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_csyeErFyEeeCH50Lr9AhYw" base_Element="_csyeELFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cszFILFyEeeCH50Lr9AhYw" base_Element="_csyeE7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cszsMLFyEeeCH50Lr9AhYw" base_Element="_cszFIbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cszsM7FyEeeCH50Lr9AhYw" base_Element="_cszsMbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs0TQrFyEeeCH50Lr9AhYw" base_Element="_cs0TQLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs06ULFyEeeCH50Lr9AhYw" base_Element="_cs0TQ7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs1hYLFyEeeCH50Lr9AhYw" base_Element="_cs06UbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs1hY7FyEeeCH50Lr9AhYw" base_Element="_cs1hYbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs2IcrFyEeeCH50Lr9AhYw" base_Element="_cs2IcLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs2IdbFyEeeCH50Lr9AhYw" base_Element="_cs2Ic7FyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs2vgLFyEeeCH50Lr9AhYw" base_Element="_cs2IdrFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs2vg7FyEeeCH50Lr9AhYw" base_Element="_cs2vgbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs3WkLFyEeeCH50Lr9AhYw" base_Element="_cs2vhLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs3Wk7FyEeeCH50Lr9AhYw" base_Element="_cs3WkbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs39oLFyEeeCH50Lr9AhYw" base_Element="_cs3WlLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs39o7FyEeeCH50Lr9AhYw" base_Element="_cs39obFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs4ksLFyEeeCH50Lr9AhYw" base_Element="_cs39pLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs4ks7FyEeeCH50Lr9AhYw" base_Element="_cs4ksbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs5LwLFyEeeCH50Lr9AhYw" base_Element="_cs4ktLFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs5Lw7FyEeeCH50Lr9AhYw" base_Element="_cs5LwbFyEeeCH50Lr9AhYw"/>
  <UMLLabProfile:Reference xmi:id="_cs5y0LFyEeeCH50Lr9AhYw" base_Element="_cs5LxLFyEeeCH50Lr9AhYw"/>
</xmi:XMI>
